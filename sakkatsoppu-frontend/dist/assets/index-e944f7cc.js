function e(){import.meta.url,import("_").catch(()=>1)}import{j as t,m as n,A as r}from"./ui-vendor-090db037.js";import{a,r as s,L as o,u as l,N as i,b as c,R as d,B as u,d as m,e as h}from"./react-vendor-e826ac9a.js";import{a as p,u as x,Q as f,b as g}from"./data-vendor-7193eb6f.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var v={},w=a;v.createRoot=w.createRoot,v.hydrateRoot=w.hydrateRoot;const j={},b=function(e,t,n){if(!t||0===t.length)return e();const r=document.getElementsByTagName("link");return Promise.all(t.map(e=>{if((e=function(e){return"/"+e}(e))in j)return;j[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(!!n)for(let n=r.length-1;n>=0;n--){const a=r[n];if(a.href===e&&(!t||"stylesheet"===a.rel))return}else if(document.querySelector('link[href="'.concat(e,'"]').concat(a)))return;const s=document.createElement("link");return s.rel=t?"stylesheet":"modulepreload",t||(s.as="script",s.crossOrigin=""),s.href=e,document.head.appendChild(s),t?new Promise((t,n)=>{s.addEventListener("load",t),s.addEventListener("error",()=>n(new Error("Unable to preload CSS for ".concat(e))))}):void 0})).then(()=>e()).catch(e=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e})},y=p.create({baseURL:"http://localhost:5001/api",withCredentials:!0,headers:{"Content-Type":"application/json"}});y.interceptors.request.use(e=>{const t=localStorage.getItem("token"),n=e.url||"",r=["/products","/admin/categories","/farmers","/farmer","/coupons","/public"].some(e=>n.startsWith(e)),a=n.startsWith("/auth/");return!t||r||a||(e.headers.Authorization="Bearer ".concat(t)),e});const k=e=>y.get("/products",{params:e}),N=e=>y.get("/products/".concat(e)),E=()=>y.get("/admin/categories"),C=e=>y.get("/public/coupons",{params:e}),P=()=>y.get("/public/settings/delivery"),I=()=>y.get("/public/homepage-videos"),_=e=>y.patch("/cart/item",e),A=e=>y.delete("/cart/remove/".concat(e)),M=()=>y.get("/orders"),R=e=>{const t={...e};if(t.latitude&&0!==Number(t.latitude)||delete t.latitude,t.longitude&&0!==Number(t.longitude)||delete t.longitude,"string"==typeof e.couponCode&&""!==e.couponCode.trim()){const n=e.couponCode.trim();t.couponCode=n}else delete t.couponCode;return"string"==typeof e.phone&&""!==e.phone.trim()?t.phone=e.phone.trim():delete t.phone,Array.isArray(e.items)&&e.items.length>0?t.items=e.items.map(e=>({productId:e.productId,quantity:e.quantity})):delete t.items,y.post("/orders",t)},S=()=>y.get("/users/profile"),L=e=>y.put("/users/profile",e),O=async e=>{try{return await y.get("/proxy/geocode/search",{params:e})}catch(t){throw t}},V=async e=>{try{return await y.get("/proxy/geocode/reverse",{params:e})}catch(t){throw t}},T=s.createContext(void 0);function H({children:e}){const[n,r]=s.useState(null),[a,o]=s.useState(!0),[l,i]=s.useState(null),c=!!n&&!!localStorage.getItem("token"),d=s.useCallback(e=>{i(e),e?localStorage.setItem("avatarUrl",e):localStorage.removeItem("avatarUrl")},[]);s.useEffect(()=>{const e=localStorage.getItem("token"),t=localStorage.getItem("avatarUrl");t&&i(t),e?(async()=>{try{const e=(await S()).data||null;r(e);const t=(null==e?void 0:e.avatarUrl)||(null==e?void 0:e.picture)||null;t&&d(t)}catch(e){localStorage.removeItem("token"),r(null),d(null)}finally{o(!1)}})():o(!1)},[d]);const u=s.useCallback(async(e,t)=>{var n,a;const s=await((e,t)=>y.post("/auth/login",{email:e,password:t}))(e,t),o=s.data;(null==o?void 0:o.token)&&localStorage.setItem("token",o.token),(null==o?void 0:o.user)&&r(o.user);const l=(null==(n=null==o?void 0:o.user)?void 0:n.avatarUrl)||(null==(a=null==o?void 0:o.user)?void 0:a.picture)||null;l&&d(l);try{const e=(await S()).data||null;e&&r(e);const t=(null==e?void 0:e.avatarUrl)||(null==e?void 0:e.picture)||null;t&&d(t)}catch(i){}},[d]),m=s.useCallback(async e=>{var t,n;const a=await(e=>{const t={...e};return null!=t.latitude&&0!==t.latitude||delete t.latitude,null!=t.longitude&&0!==t.longitude||delete t.longitude,""===t.address&&delete t.address,""===t.phone&&delete t.phone,y.post("/auth/signup",t)})(e),s=a.data;(null==s?void 0:s.token)&&localStorage.setItem("token",s.token),(null==s?void 0:s.user)&&r(s.user);const o=(null==(t=null==s?void 0:s.user)?void 0:t.avatarUrl)||(null==(n=null==s?void 0:s.user)?void 0:n.picture)||null;o&&d(o);try{const e=(await S()).data||null;e&&r(e);const t=(null==e?void 0:e.avatarUrl)||(null==e?void 0:e.picture)||null;t&&d(t)}catch(l){}},[d]),h=s.useCallback(async()=>{try{await y.post("/auth/logout")}catch(e){}localStorage.removeItem("token"),r(null),d(null)},[d]),p=s.useCallback(async e=>{var t,n;const a=function(e){try{const t=e.split(".");if(t.length<2)return null;const n=JSON.parse(atob(t[1].replace(/-/g,"+").replace(/_/g,"/")));return(null==n?void 0:n.picture)||null}catch(t){return null}}(e);a&&d(a);const s=await(e=>y.post("/auth/google",{idToken:e}))(e),o=s.data;(null==o?void 0:o.token)&&localStorage.setItem("token",o.token),(null==o?void 0:o.user)&&r(o.user);const l=(null==(t=null==o?void 0:o.user)?void 0:t.avatarUrl)||(null==(n=null==o?void 0:o.user)?void 0:n.picture)||a||null;l&&d(l);try{const e=(await S()).data||null;e&&r(e);const t=(null==e?void 0:e.avatarUrl)||(null==e?void 0:e.picture)||null;t&&d(t)}catch(i){}return{needsProfileCompletion:!!(null==o?void 0:o.needsProfileCompletion)}},[d]),x=s.useCallback(async e=>{await(e=>y.post("/auth/forgot-password",{email:e}))(e)},[]),f=s.useCallback(async e=>{await(e=>y.post("/auth/reset-password",e))(e)},[]),g=s.useCallback(async()=>{var e;try{const e=(await S()).data||null;r(e);const t=(null==e?void 0:e.avatarUrl)||(null==e?void 0:e.picture)||null;t&&d(t)}catch(t){const n=null==(e=null==t?void 0:t.response)?void 0:e.status;401!==n&&403!==n||(localStorage.removeItem("token"),r(null),d(null))}},[d]),v=s.useMemo(()=>({user:n,isAuthenticated:c,initializing:a,avatarUrl:l,login:u,signup:m,logout:h,loginWithGoogle:p,forgotPassword:x,resetPassword:f,refreshProfile:g}),[n,c,a,l,u,m,h,p,x,f,g]);return t.jsx(T.Provider,{value:v,children:e})}function Z(){const e=s.useContext(T);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}const D=s.createContext(void 0);function U(){const e=s.useContext(D);if(!e)throw new Error("useToast must be used within a ToastProvider");return e}const q=s.createContext(void 0);function B({children:e}){const[n,r]=s.useState([]),[a,o]=s.useState(!1),{isAuthenticated:l}=Z(),{show:i}=U(),c=s.useRef(i);s.useEffect(()=>{c.current=i},[i]);const d=e=>!!e&&"object"==typeof e&&"string"==typeof e._id,u=s.useMemo(()=>e=>{var t;const n=[];for(const r of e||[]){const e=null==r?void 0:r.productId;let a=null,s=null;if("string"==typeof e&&e?a=e:d(e)&&(a=e._id,s=e),!a)continue;const o=null!=s?s:{_id:a,name:"Product",price:0,stock:0};n.push({productId:a,quantity:null!=(t=r.quantity)?t:0,product:o})}return n},[]),m=s.useCallback(async()=>{var e;if(l)try{o(!0);const t=(null==(e=(await y.get("/cart")).data)?void 0:e.cart)||[],n=u(t);r(e=>{const t=new Set(e.map(e=>e.productId)),r=new Set(n.map(e=>e.productId));let a=0;return t.forEach(e=>{r.has(e)||a++}),a>0&&c.current("".concat(a," item(s) removed due to stock updates"),{type:"warning"}),n})}catch(t){}finally{o(!1)}else r([])},[l,u]);s.useEffect(()=>{m()},[m]);const h=n.reduce((e,t)=>e+t.quantity,0),p=n.length,x=n.reduce((e,t)=>e+t.quantity*(t.product.price||0),0);return t.jsx(q.Provider,{value:{items:n,totalItems:h,uniqueItems:p,totalPrice:x,addToCart:async(e,t)=>{var a,s,i,c,d;if(!l)throw new Error("Please log in to add items to the cart.");try{o(!0);const l=n.find(t=>t.productId===e),m=(null==l?void 0:l.product)||(null==(a=n.find(t=>t.product._id===e))?void 0:a.product);if(m&&"number"==typeof m.stock){const e=(null==l?void 0:l.quantity)||0,n=Math.max(0,m.stock-e);if(n<=0)throw o(!1),new Error("No stock remaining");t>n&&(t=n)}if(l)if(t>1){const n=l.quantity+t,a=(null==(i=(await _({productId:e,quantity:n})).data)?void 0:i.cart)||[];r(u(a))}else{const t=(null==(c=(await _({productId:e,action:"increment"})).data)?void 0:c.cart)||[];r(u(t))}else{const n=(null==(s=(await(d={productId:e,quantity:Math.max(1,t)},y.post("/cart/add",d))).data)?void 0:s.cart)||[];r(u(n))}}catch(m){throw m}finally{o(!1)}},updateQuantity:async(e,t)=>{var a,s,o;if(!l)throw new Error("Please log in to update cart.");try{t<0&&(t=0);const l=null==(a=n.find(t=>t.productId===e))?void 0:a.product;l&&"number"==typeof l.stock&&t>l.stock&&(t=l.stock);const i=n;if(t<=0){r(i.filter(t=>t.productId!==e));const t=(null==(s=(await A(e)).data)?void 0:s.cart)||[];r(u(t))}else{const n=i.map(n=>n.productId===e?{...n,quantity:t}:n);r(n);const a=(null==(o=(await _({productId:e,quantity:t})).data)?void 0:o.cart)||[];r(u(a))}}catch(i){throw await m(),i}},removeItem:async e=>{var t;if(!l)throw new Error("Please log in to remove items from cart.");try{r(n.filter(t=>t.productId!==e));const a=(null==(t=(await A(e)).data)?void 0:t.cart)||[];r(u(a))}catch(a){throw await m(),a}},clearCart:()=>{r([]),l&&y.post("/cart/clear").then(e=>{var t;const n=(null==(t=e.data)?void 0:t.cart)||[];r(u(n))}).catch(()=>{})},loading:a},children:e})}function z(){const e=s.useContext(q);if(void 0===e)throw new Error("useCart must be used within a CartProvider");return e}function W({title:e,titleId:t,...n},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const F=s.forwardRef(W);function Q({title:e,titleId:t,...n},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const J=s.forwardRef(Q);function K({title:e,titleId:t,...n},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const G=s.forwardRef(K);function Y({title:e,titleId:t,...n},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const X=s.forwardRef(Y);function $({title:e,titleId:t,...n},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const ee=s.forwardRef($);function te({title:e,titleId:t,...n},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const ne=s.forwardRef(te);function re({title:e,titleId:t,...n},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}const ae=s.forwardRef(re);function se({title:e,titleId:t,...n},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z"}))}const oe=s.forwardRef(se);function le({title:e,titleId:t,...n},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const ie=s.forwardRef(le);function ce({title:e,titleId:t,...n},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const de=s.forwardRef(ce);function ue({title:e,titleId:t,...n},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const me=s.forwardRef(ue);function he(){const{isAuthenticated:e,user:r,logout:a,avatarUrl:s}=Z(),{uniqueItems:l}=z(),i=new URL("../../logo.jpeg",self.location).href,c=new URL("/assets/logo_final-b879f40a.jpg",self.location).href,d={hover:{scale:1.05,transition:{duration:.2}}};return t.jsx(n.nav,{initial:{y:-100},animate:{y:0},transition:{type:"spring",stiffness:100},className:"bg-white text-gray-800 shadow-lg sticky top-0 z-50",children:t.jsx("div",{className:"container mx-auto px-4",children:t.jsxs("div",{className:"flex justify-between items-center h-16 gap-2",children:[t.jsxs(o,{to:"/",className:"flex items-center space-x-2 sm:space-x-3",children:[t.jsx(n.div,{whileHover:{scale:1.05},transition:{duration:.2},className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full overflow-hidden bg-white shadow",children:t.jsx("img",{src:c,alt:"Sakkat Soppu logo",className:"w-full h-full object-contain",onError:e=>{const t=e.currentTarget;t.onerror=null,t.src=i}})}),t.jsx(n.span,{className:"text-lg sm:text-xl font-bold bg-gradient-to-r from-green-600 to-green-400 bg-clip-text text-transparent",whileHover:{scale:1.05},children:"Sakkat Soppu"})]}),t.jsxs("div",{className:"md:hidden flex items-center gap-2",children:[t.jsxs(o,{to:"/about",className:"flex items-center space-x-1 py-2 px-3 rounded-lg hover:bg-green-50 transition-colors",children:[t.jsx(X,{className:"h-5 w-5 text-green-600"}),t.jsx("span",{className:"text-sm",children:"About Us"})]}),e?t.jsxs("button",{onClick:a,className:"flex items-center space-x-1 py-2 px-3 rounded-lg hover:bg-red-50 text-red-600 transition-colors",children:[t.jsx(F,{className:"h-5 w-5"}),t.jsx("span",{className:"text-sm",children:"Logout"})]}):t.jsx(o,{to:"/login",className:"py-2 px-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm",children:"Login"})]}),t.jsxs("div",{className:"hidden md:flex items-center space-x-3 sm:space-x-4 md:space-x-6",children:[t.jsx(n.div,{variants:d,whileHover:"hover",className:"relative group",children:t.jsxs(o,{to:"/",className:"flex items-center space-x-1 py-2 px-3 rounded-lg group-hover:bg-green-50 transition-colors",children:[t.jsx(G,{className:"h-5 w-5 text-green-600"}),t.jsx("span",{children:"Home"})]})}),t.jsx(n.div,{variants:d,whileHover:"hover",className:"relative group",children:t.jsxs(o,{to:"/categories/all",className:"flex items-center space-x-1 py-2 px-3 rounded-lg group-hover:bg-green-50 transition-colors",children:[t.jsx(ne,{className:"h-5 w-5 text-green-600"}),t.jsx("span",{children:"Products"})]})}),t.jsx(n.div,{variants:d,whileHover:"hover",className:"relative group",children:t.jsxs(o,{to:"/about",className:"flex items-center space-x-1 py-2 px-3 rounded-lg group-hover:bg-green-50 transition-colors",children:[t.jsx(X,{className:"h-5 w-5 text-green-600"}),t.jsx("span",{children:"About Us"})]})}),t.jsx(n.div,{variants:d,whileHover:"hover",className:"relative group",children:t.jsxs(o,{to:"/cart",className:"flex items-center space-x-1 py-2 px-3 rounded-lg group-hover:bg-green-50 transition-colors",children:[t.jsxs("div",{className:"relative",children:[t.jsx(ae,{className:"h-5 w-5 text-green-600"}),l>0&&t.jsx(n.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-2 -right-2 bg-red-500 text-white text-[10px] rounded-full h-4 min-w-4 px-1 flex items-center justify-center",children:l})]}),t.jsx("span",{children:"Cart"})]})}),t.jsx(n.div,{variants:d,whileHover:"hover",className:"relative group",children:t.jsxs(o,{to:"/orders",className:"flex items-center space-x-1 py-2 px-3 rounded-lg group-hover:bg-green-50 transition-colors",children:[t.jsx(J,{className:"h-5 w-5 text-green-600"}),t.jsx("span",{children:"Orders"})]})}),e?t.jsxs(t.Fragment,{children:[t.jsx(n.div,{variants:d,whileHover:"hover",className:"relative group",children:t.jsxs(o,{to:"/profile",className:"flex items-center space-x-2 py-2 px-3 rounded-lg group-hover:bg-green-50 transition-colors",children:[s?t.jsx("img",{src:s,alt:(null==r?void 0:r.name)||"Profile",className:"h-6 w-6 rounded-full object-cover border border-green-200"}):t.jsx(ie,{className:"h-5 w-5 text-green-600"}),t.jsx("span",{children:null==r?void 0:r.name})]})}),t.jsxs(n.button,{variants:d,whileHover:"hover",onClick:a,className:"flex items-center space-x-1 py-2 px-3 rounded-lg hover:bg-red-50 text-red-600 transition-colors",children:[t.jsx(F,{className:"h-5 w-5"}),t.jsx("span",{children:"Logout"})]})]}):t.jsxs(t.Fragment,{children:[t.jsx(n.div,{variants:d,whileHover:"hover",children:t.jsx(o,{to:"/login",className:"py-2 px-4 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Login"})}),t.jsx(n.div,{variants:d,whileHover:"hover",children:t.jsx(o,{to:"/signup",className:"py-2 px-4 border-2 border-green-600 text-green-600 rounded-lg hover:bg-green-50 transition-colors",children:"Sign Up"})})]})]})]})})})}function pe({children:e}){const{isAuthenticated:n,initializing:r}=Z(),a=l();return r?t.jsx("div",{className:"py-8 text-center",children:"Checking authentication…"}):n?t.jsx(t.Fragment,{children:e}):t.jsx(i,{to:"/login",replace:!0,state:{from:{pathname:a.pathname}}})}const xe=new URL("/assets/logo_final-b879f40a.jpg",self.location).href;function fe({duration:e=1200,onFinish:r}){const[a,o]=s.useState(!0),[l,i]=s.useState(!1);if(s.useEffect(()=>{const t=setTimeout(()=>i(!0),e),n=setTimeout(()=>{o(!1),null==r||r()},e+800+200);return()=>{clearTimeout(t),clearTimeout(n)}},[e,r]),!a)return null;const c={backgroundColor:"white",WebkitMaskImage:"radial-gradient(circle at 50% 50%, transparent var(--r), black calc(var(--r) + 1px))",maskImage:"radial-gradient(circle at 50% 50%, transparent var(--r), black calc(var(--r) + 1px))",willChange:"mask-image, -webkit-mask-image","--r":"0vmax"};return t.jsxs(n.div,{className:"fixed inset-0 z-[1000] flex items-center justify-center bg-transparent",children:[t.jsx(n.div,{className:"absolute inset-0 z-10",style:c,animate:l?{"--r":"120vmax"}:{"--r":"0vmax"},transition:{duration:.8,ease:[.22,1,.36,1]}}),t.jsx(n.div,{initial:{scale:1},animate:{scale:l?0:1},transition:{duration:.6,ease:"easeInOut"},className:"relative z-20 w-32 h-32 sm:w-40 sm:h-40 rounded-full bg-white shadow p-2 overflow-hidden flex items-center justify-center",children:t.jsx("img",{src:xe,alt:"Logo",className:"w-full h-full object-contain"})})]})}function ge({children:e}){const[n,r]=s.useState([]),a=s.useRef(new Map);s.useEffect(()=>()=>{a.current.forEach(e=>window.clearTimeout(e)),a.current.clear()},[]);const o=s.useCallback(e=>{r(t=>t.filter(t=>t.id!==e));const t=a.current.get(e);t&&(window.clearTimeout(t),a.current.delete(e))},[]),l=s.useCallback((e,t)=>{var n,s;const l="".concat(Date.now(),"_").concat(Math.random().toString(36).slice(2)),i={id:l,message:e,type:null!=(n=null==t?void 0:t.type)?n:"info"};r(e=>[...e,i]);const c=window.setTimeout(()=>o(l),null!=(s=null==t?void 0:t.durationMs)?s:2200);a.current.set(l,c)},[o]);return t.jsxs(D.Provider,{value:{show:l},children:[e,t.jsx("div",{className:"fixed inset-x-0 bottom-4 flex justify-center z-50 pointer-events-none",children:t.jsx("div",{className:"space-y-2 w-full max-w-md px-4",children:n.map(e=>t.jsxs("div",{className:"pointer-events-auto rounded-lg shadow px-4 py-3 text-sm text-white flex items-center justify-between\n                ".concat("success"===e.type?"bg-green-600":"warning"===e.type?"bg-amber-600":"error"===e.type?"bg-red-600":"bg-gray-800"),children:[t.jsx("span",{children:e.message}),t.jsx("button",{className:"ml-3 text-white/80 hover:text-white",onClick:()=>o(e.id),children:"×"})]},e.id))})})]})}const ve=s.createContext(null);function we(){const e=function(){const e=s.useContext(ve);if(!e)throw new Error("usePoliciesModal must be used within PoliciesModalProvider");return e}(),n=new URL("../../logo.jpeg",self.location).href,r=new URL("/assets/logo_final-b879f40a.jpg",self.location).href;return t.jsx("footer",{className:"bg-white border-t mt-2 sm:mt-4",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 py-4 sm:py-6",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-1 sm:mb-2",children:[t.jsx("div",{className:"w-8 h-8 sm:w-9 sm:h-9 rounded-full overflow-hidden bg-white shadow",children:t.jsx("img",{src:r,alt:"Sakkat Soppu logo",className:"w-full h-full object-contain",onError:e=>{const t=e.currentTarget;t.onerror=null,t.src=n}})}),t.jsx("span",{className:"text-sm sm:text-base font-bold bg-gradient-to-r from-green-600 to-green-400 bg-clip-text text-transparent",children:"Sakkat Soppu"})]}),t.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Fresh, local produce delivered in Mysore."})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-gray-900 font-semibold mb-1 sm:mb-2",children:"Quick Links"}),t.jsxs("nav",{className:"grid gap-1 text-sm",children:[t.jsx(o,{to:"/",children:"Home"}),t.jsx(o,{to:"/products",children:"Products"}),t.jsx(o,{to:"/orders",children:"Orders"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-gray-900 font-semibold mb-1 sm:mb-2",children:"Support"}),t.jsxs("ul",{className:"space-y-1 text-sm",children:[t.jsx("li",{children:t.jsx("span",{className:"inline-flex items-center gap-2 text-gray-700 select-text",children:"Email: sakkatsoppu@gmail.com"})}),t.jsx("li",{children:t.jsx("span",{className:"inline-flex items-center gap-2 text-gray-700 select-text",children:"Phone: +91 99807 61856"})}),t.jsx("li",{children:t.jsx("button",{type:"button",onClick:()=>e.open(),className:"inline-flex items-center gap-2 text-gray-700 select-text hover:text-green-700 focus:outline-none",style:{background:"none",border:"none",padding:0,font:"inherit",cursor:"pointer"},children:"Policies"})})]})]})]}),t.jsxs("div",{className:"border-t mt-3 sm:mt-4 pt-2 sm:pt-3 text-[10px] sm:text-xs text-gray-500 flex flex-col sm:flex-row items-center justify-between gap-1.5 sm:gap-2",children:[t.jsxs("p",{children:["© ",(new Date).getFullYear()," Sakkat Soppu. All rights reserved."]}),t.jsxs("p",{children:["Built with ❤️ for Mysore | ",t.jsx("a",{className:"hover:text-green-700",href:"/",children:"Home"})]})]})]})})}function je(){const{pathname:e}=l();return s.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[e]),null}const be=s.createContext(void 0);function ye({children:e}){const a=c(),o=l(),{totalPrice:i,items:d}=z(),[u,m]=s.useState(!1),[h,p]=s.useState(0),f=s.useRef(null),{data:g=[]}=x({queryKey:["admin","coupons"],queryFn:async()=>{try{const e=(await C({page:1,limit:100})).data,t=Array.isArray(e)?e:(null==e?void 0:e.data)||e.coupons||e.items||e.results||[];return t.map(e=>{var t,n,r,a;const s=e;return{code:((null==s?void 0:s.code)||(null==s?void 0:s.couponCode)||"").toString(),discountType:"percentage"===(null==s?void 0:s.discountType)?"percentage":"amount",discountValue:Number(null!=(n=null!=(t=null==s?void 0:s.discountValue)?t:null==s?void 0:s.value)?n:0),minOrderValue:null!=(null==s?void 0:s.minOrderValue)?Number(s.minOrderValue):void 0,maxDiscount:null!=(null==s?void 0:s.maxDiscount)?Number(s.maxDiscount):void 0,isActive:!1!==(null==s?void 0:s.isActive),startsAt:null!=(r=null==s?void 0:s.startsAt)?r:null,expiresAt:null!=(a=null==s?void 0:s.expiresAt)?a:null}}).filter(e=>e.code)}catch(e){return[]}},staleTime:3e5,refetchOnWindowFocus:!1,refetchOnReconnect:!1}),{data:v}=x({queryKey:["public","delivery-settings"],queryFn:async()=>{var e,t,n,r;try{const a=(await P()).data;if(!a)throw new Error("No data");return{enabled:null==(e=a.enabled)||e,deliveryFee:null!=(t=a.deliveryFee)?t:0,freeDeliveryThreshold:null!=(n=a.freeDeliveryThreshold)?n:0,minOrderSubtotal:null!=(r=a.minOrderSubtotal)?r:0}}catch(a){return{enabled:!0,deliveryFee:0,freeDeliveryThreshold:0,minOrderSubtotal:0}}},staleTime:6e5,refetchOnWindowFocus:!1,refetchOnReconnect:!1}),w=s.useMemo(()=>{var e;const t=[];if(v&&v.enabled){const n=null!=(e=v.minOrderSubtotal)?e:0,r=Math.max(0,n-i);r>0&&t.push("Add ₹".concat(r," more to reach minimum order"))}if(g.length>0&&i>0){let e=null;for(const t of g){if(!1===t.isActive)continue;if("number"==typeof t.minOrderValue&&i<t.minOrderValue)continue;let n=0;if("amount"===t.discountType)n=Math.min(t.discountValue,i);else if("percentage"===t.discountType){const e=t.discountValue/100*i;n=Math.floor(null==t.maxDiscount?e:Math.min(e,t.maxDiscount))}(!e||n>e.savings)&&(e={code:t.code,savings:n})}e&&e.savings>0&&t.push("Use ".concat(e.code," to save ₹").concat(e.savings))}return t},[g,v,i]),j=s.useCallback(e=>{m(!0)},[]);s.useEffect(()=>()=>{f.current&&window.clearTimeout(f.current)},[]),s.useEffect(()=>{const e=()=>{};return window.addEventListener("scroll",e,{passive:!0}),()=>window.removeEventListener("scroll",e)},[]),s.useEffect(()=>{"/cart"!==o.pathname&&"/checkout"!==o.pathname&&"/about"!==o.pathname||(f.current&&window.clearTimeout(f.current),m(!1))},[o.pathname]),s.useEffect(()=>{d&&0!==d.length||(f.current&&window.clearTimeout(f.current),m(!1),p(0))},[d]),s.useEffect(()=>{const e=Array.isArray(d)?d.length:0;p(e),e>0&&"/cart"!==o.pathname&&"/checkout"!==o.pathname&&"/about"!==o.pathname&&m(!0)},[d,o.pathname]);const b=s.useMemo(()=>({showBar:j}),[j]),y=s.useCallback(()=>{f.current&&window.clearTimeout(f.current),m(!1),a("/cart")},[a]);return t.jsxs(be.Provider,{value:b,children:[e,t.jsx(r,{children:u&&t.jsx(n.div,{initial:{y:80,opacity:0},animate:{y:0,opacity:1},exit:{y:80,opacity:0},transition:{type:"spring",stiffness:200,damping:22},className:"fixed inset-x-0 bottom-20 md:bottom-3 z-50 px-3 sm:px-4",children:t.jsx("div",{className:"mx-auto w-full max-w-xl",children:t.jsxs("div",{className:"rounded-xl shadow-lg bg-green-600 text-white flex items-center justify-between gap-3 px-4 py-3 sm:py-3.5",children:[t.jsxs("div",{className:"min-w-0",children:[t.jsxs("p",{className:"font-semibold text-sm sm:text-base truncate",children:[h," product",1!==h?"s":""," in cart"]}),w.length>0&&t.jsx("div",{className:"text-[11px] sm:text-xs text-white/90 space-y-0.5",children:w.slice(0,2).map((e,n)=>t.jsx("p",{className:"truncate",children:e},n))})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("button",{onClick:y,className:"px-3 sm:px-4 py-2 rounded-lg bg-white text-green-700 font-semibold text-sm sm:text-base",children:"View Cart"})})]})})})})]})}const ke=s.createContext(void 0);function Ne({children:e}){const[n,r]=s.useState(new Map),a=s.useRef([]),o=s.useRef(null),l=s.useRef(null),i=s.useRef(1e3),c=s.useCallback(()=>{o.current&&(o.current.close(),o.current=null),l.current&&(window.clearTimeout(l.current),l.current=null)},[]),d=s.useCallback(e=>{if(c(),0===e.length)return;const t=function(e){const t=e.length?"?ids=".concat(encodeURIComponent(e.join(","))):"";return"/api/realtime/stock".concat(t)}(e),n=new EventSource(t,{withCredentials:!0});o.current=n;n.addEventListener("stock:snapshot",e=>{try{const t=JSON.parse(e.data);r(e=>{const n=new Map(e);for(const r of t||[])r&&r.productId&&n.set(r.productId,Math.max(0,Number(r.stock||0)));return n})}catch(t){}}),n.addEventListener("stock:update",e=>{try{const t=JSON.parse(e.data);t&&t.productId&&r(e=>{const n=new Map(e);return n.set(t.productId,Math.max(0,Number(t.stock||0))),n})}catch(t){}}),n.onerror=()=>{if(l.current)return;const e=Math.min(i.current,3e4)+Math.floor(400*Math.random());l.current=window.setTimeout(()=>{l.current=null,i.current=Math.min(2*i.current,3e4),d(a.current)},e)},n.onopen=()=>{i.current=1e3}},[c]);s.useEffect(()=>{const e=()=>{!document.hidden&&a.current.length?d(a.current):c()};return document.addEventListener("visibilitychange",e),window.addEventListener("focus",e),()=>{document.removeEventListener("visibilitychange",e),window.removeEventListener("focus",e)}},[d,c]);const u=s.useRef(null),m=s.useCallback(e=>{const t=Array.from(new Set(e.filter(Boolean)));a.current=t,u.current&&window.clearTimeout(u.current),u.current=window.setTimeout(()=>{document.hidden||d(a.current)},250)},[d]);s.useEffect(()=>()=>c(),[c]);const h=s.useMemo(()=>({stocks:n,updateWatched:m}),[n,m]);return t.jsx(ke.Provider,{value:h,children:e})}function Ee(){const e=s.useContext(ke);if(!e)throw new Error("useStockContext must be used within StockProvider");return e}function Ce(e){const{updateWatched:t}=Ee(),n=s.useRef(""),r=s.useMemo(()=>Array.from(new Set((e||[]).filter(Boolean))),[e]),a=r.join(",");s.useEffect(()=>{a!==n.current&&(n.current=a,t(r))},[a,r,t])}function Pe(e){var n,r;const a=null==(n=null==e?void 0:e.enabled)||n,s=null==(r=null==e?void 0:e.mutate)||r,{stocks:o}=Ee(),{items:l,updateQuantity:i}=z(),{show:c}=U(),[u,m]=d.useState([]),h=d.useRef(new Set),p=d.useRef(new Map);d.useEffect(()=>{if(!a)return;try{if(globalThis.__RECONCILE_PAUSED)return}catch(u){}if(!l.length)return;for(const a of l){const e=a.product._id,t=o.get(e);null!=t&&t>0&&h.current.delete(e)}const e=[],t=[],n=[];for(const a of l){const r=a.product._id;if(!r)continue;const l=o.get(r);if(null==l)continue;const c=a.quantity;l<=0&&c>0?t.push({id:r,name:a.product.name||"Item",from:c,to:0}):l<c&&(e.push({id:r,name:a.product.name||"Item",from:c,to:l}),s&&n.push(i(r,l)))}const r=n.length>0,d=t.length>0;if(r)Promise.allSettled(n).then(()=>{const n=[...e.map(e=>({...e,kind:"clamped"})),...t.map(e=>({...e,kind:"oos"}))];if(m(n.slice(0,3)),s){const n=e.filter(e=>p.current.get(e.id)!==e.to);for(const e of n)p.current.set(e.id,e.to);const r=n.length;if(1===r){const e=n[0];c("".concat(e.name," updated to ").concat(e.to," due to stock change"),{type:"warning"})}else r>1&&c("".concat(r," item(s) adjusted to available stock"),{type:"warning"});if(d){const e=t.filter(e=>!h.current.has(e.id));e.forEach(e=>h.current.add(e.id));const n=e.length;1===n?c("".concat(e[0].name," is now out of stock"),{type:"warning"}):n>1&&c("".concat(n," item(s) now out of stock"),{type:"warning"})}}});else if(d&&(m(t.map(e=>({...e,kind:"oos"})).slice(0,3)),s)){const e=t.filter(e=>!h.current.has(e.id));e.forEach(e=>h.current.add(e.id));const n=e.length;1===n?c("".concat(e[0].name," is now out of stock"),{type:"warning"}):n>1&&c("".concat(n," item(s) now out of stock"),{type:"warning"})}},[a,s,l,o,i,c]);return{Banner:d.useMemo(()=>u.length?t.jsxs("div",{className:"mt-3 bg-amber-50 text-amber-800 rounded-lg p-3 space-y-1",children:[t.jsx("p",{className:"text-sm font-medium",children:"Stock updates:"}),t.jsx("ul",{className:"list-disc list-inside text-sm",children:u.map(e=>t.jsxs("li",{children:[e.name,": ","oos"===e.kind?t.jsxs("span",{children:["now out of stock (had ",e.from,")"]}):t.jsxs("span",{children:[e.from," → ",e.to]})]},e.id))}),t.jsx("p",{className:"text-xs text-amber-700",children:"Items out of stock won’t be auto-removed. Please review your cart before checkout."})]}):null,[u])}}function Ie(){const{items:e}=z();return Ce(e.map(e=>e.product._id)),Pe({enabled:!0}),null}const _e=({id:e,compact:n=!1,whatsappNumber:r})=>{const a=r||"your WhatsApp number",s=n?"bg-white rounded-lg border border-green-100 p-4":"bg-white rounded-2xl shadow-md border border-green-100 p-6",o=n?"text-lg font-bold mb-3":"text-2xl font-bold mb-4",l=n?"text-base font-semibold mb-2":"text-lg font-semibold mb-2",i="list-disc ml-5 text-gray-700";return t.jsx("section",{id:e,className:n?"":"max-w-6xl mx-auto px-4",children:t.jsxs("div",{className:s,children:[t.jsx("h2",{className:o,children:"Policies"}),t.jsxs("div",{className:n?"space-y-3":"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:l,children:"Return & Refund Policy"}),t.jsxs("ul",{className:"space-y-1",children:[t.jsxs("li",{className:i,children:[t.jsx("span",{className:"font-medium",children:"No Return / Replacement:"})," We do not offer product returns or replacements once an order is delivered."]}),t.jsxs("li",{className:i,children:[t.jsx("span",{className:"font-medium",children:"Damaged Products:"})," If your product is delivered in a damaged condition, please share a clear photo of the product on our official WhatsApp number (",a,") within 1 hour."]}),t.jsxs("li",{className:i,children:[t.jsx("span",{className:"font-medium",children:"Compensation:"})," After verification, we will provide a flat discount equal to the damage value on your next order."]}),t.jsxs("li",{className:i,children:[t.jsx("span",{className:"font-medium",children:"Note:"})," Damage claims without photo proof will not be considered."]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:l,children:"Delivery Policy"}),t.jsxs("ul",{className:"space-y-1",children:[t.jsxs("li",{className:i,children:[t.jsx("span",{className:"font-medium",children:"Scheduled Delivery Days:"})," Orders are delivered on Sundays and Mondays."]}),t.jsxs("li",{className:i,children:[t.jsx("span",{className:"font-medium",children:"Customer Availability:"})," Customers must ensure someone is available at the delivery address to collect the order."]}),t.jsxs("li",{className:i,children:[t.jsx("span",{className:"font-medium",children:"Missed Delivery:"})," If the customer is not present at the time of delivery, a QR code for payment will be sent to their registered mobile number. The full order amount must be paid via the QR code."]})]})]})]})]})})},Ae=({children:e,whatsappNumber:n})=>{const[r,o]=s.useState(!1),[l,i]=s.useState(n),c=s.useCallback(e=>{(null==e?void 0:e.whatsappNumber)&&i(e.whatsappNumber),o(!0)},[]),d=s.useCallback(()=>o(!1),[]),u=s.useMemo(()=>({open:c,close:d}),[c,d]);return t.jsxs(ve.Provider,{value:u,children:[e,r&&a.createPortal(t.jsxs("div",{className:"fixed inset-0 z-[100]",children:[t.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:d,"aria-hidden":"true"}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4",children:t.jsxs("div",{className:"w-full max-w-2xl bg-white rounded-2xl shadow-2xl border border-green-100 overflow-hidden",children:[t.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b bg-green-50",children:[t.jsxs("div",{className:"flex items-center gap-2 text-green-800",children:[t.jsx(ee,{className:"h-5 w-5"}),t.jsx("h2",{className:"font-semibold",children:"Policies"})]}),t.jsx("button",{onClick:d,"aria-label":"Close policies",className:"p-1 rounded-lg hover:bg-green-100",children:t.jsx(me,{className:"h-5 w-5 text-green-800"})})]}),t.jsx("div",{className:"max-h-[70vh] overflow-y-auto p-4",children:t.jsx(_e,{compact:!0,whatsappNumber:l})})]})})]}),document.body)]})};function Me({title:e,titleId:t,...n},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{fillRule:"evenodd",d:"M7.5 3.75A1.5 1.5 0 0 0 6 5.25v13.5a1.5 1.5 0 0 0 1.5 1.5h6a1.5 1.5 0 0 0 1.5-1.5V15a.75.75 0 0 1 1.5 0v3.75a3 3 0 0 1-3 3h-6a3 3 0 0 1-3-3V5.25a3 3 0 0 1 3-3h6a3 3 0 0 1 3 3V9A.75.75 0 0 1 15 9V5.25a1.5 1.5 0 0 0-1.5-1.5h-6Zm10.72 4.72a.75.75 0 0 1 1.06 0l3 3a.75.75 0 0 1 0 1.06l-3 3a.75.75 0 1 1-1.06-1.06l1.72-1.72H9a.75.75 0 0 1 0-1.5h10.94l-1.72-1.72a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"}))}const Re=s.forwardRef(Me);function Se({title:e,titleId:t,...n},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{fillRule:"evenodd",d:"M7.502 6h7.128A3.375 3.375 0 0 1 18 9.375v9.375a3 3 0 0 0 3-3V6.108c0-1.505-1.125-2.811-2.664-2.94a48.972 48.972 0 0 0-.673-.05A3 3 0 0 0 15 1.5h-1.5a3 3 0 0 0-2.663 1.618c-.225.015-.45.032-.673.05C8.662 3.295 7.554 4.542 7.502 6ZM13.5 3A1.5 1.5 0 0 0 12 4.5h4.5A1.5 1.5 0 0 0 15 3h-1.5Z",clipRule:"evenodd"}),s.createElement("path",{fillRule:"evenodd",d:"M3 9.375C3 8.339 3.84 7.5 4.875 7.5h9.75c1.036 0 1.875.84 1.875 1.875v11.25c0 1.035-.84 1.875-1.875 1.875h-9.75A1.875 1.875 0 0 1 3 20.625V9.375ZM6 12a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75H6.75a.75.75 0 0 1-.75-.75V12Zm2.25 0a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75ZM6 15a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75H6.75a.75.75 0 0 1-.75-.75V15Zm2.25 0a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75ZM6 18a.75.75 0 0 1 .75-.75h.008a.75.75 0 0 1 .75.75v.008a.75.75 0 0 1-.75.75H6.75a.75.75 0 0 1-.75-.75V18Zm2.25 0a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"}))}const Le=s.forwardRef(Se);function Oe({title:e,titleId:t,...n},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{d:"M11.47 3.841a.75.75 0 0 1 1.06 0l8.69 8.69a.75.75 0 1 0 1.06-1.061l-8.689-8.69a2.25 2.25 0 0 0-3.182 0l-8.69 8.69a.75.75 0 1 0 1.061 1.06l8.69-8.689Z"}),s.createElement("path",{d:"m12 5.432 8.159 8.159c.03.03.06.058.091.086v6.198c0 1.035-.84 1.875-1.875 1.875H15a.75.75 0 0 1-.75-.75v-4.5a.75.75 0 0 0-.75-.75h-3a.75.75 0 0 0-.75.75V21a.75.75 0 0 1-.75.75H5.625a1.875 1.875 0 0 1-1.875-1.875v-6.198a2.29 2.29 0 0 0 .091-.086L12 5.432Z"}))}const Ve=s.forwardRef(Oe);function Te({title:e,titleId:t,...n},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{d:"M2.25 2.25a.75.75 0 0 0 0 1.5h1.386c.17 0 .318.114.362.278l2.558 9.592a3.752 3.752 0 0 0-2.806 3.63c0 .414.336.75.75.75h15.75a.75.75 0 0 0 0-1.5H5.378A2.25 2.25 0 0 1 7.5 15h11.218a.75.75 0 0 0 .674-.421 60.358 60.358 0 0 0 2.96-7.228.75.75 0 0 0-.525-.965A60.864 60.864 0 0 0 5.68 4.509l-.232-.867A1.875 1.875 0 0 0 3.636 2.25H2.25ZM3.75 20.25a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0ZM16.5 20.25a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Z"}))}const He=s.forwardRef(Te);function Ze({title:e,titleId:t,...n},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{fillRule:"evenodd",d:"M3 6a3 3 0 0 1 3-3h2.25a3 3 0 0 1 3 3v2.25a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3V6Zm9.75 0a3 3 0 0 1 3-3H18a3 3 0 0 1 3 3v2.25a3 3 0 0 1-3 3h-2.25a3 3 0 0 1-3-3V6ZM3 15.75a3 3 0 0 1 3-3h2.25a3 3 0 0 1 3 3V18a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3v-2.25Zm9.75 0a3 3 0 0 1 3-3H18a3 3 0 0 1 3 3V18a3 3 0 0 1-3 3h-2.25a3 3 0 0 1-3-3v-2.25Z",clipRule:"evenodd"}))}const De=s.forwardRef(Ze);function Ue({title:e,titleId:t,...n},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?s.createElement("title",{id:t},e):null,s.createElement("path",{fillRule:"evenodd",d:"M7.5 6a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM3.751 20.105a8.25 8.25 0 0 1 16.498 0 .75.75 0 0 1-.437.695A18.683 18.683 0 0 1 12 22.5c-2.786 0-5.433-.608-7.812-1.7a.75.75 0 0 1-.437-.695Z",clipRule:"evenodd"}))}const qe=s.forwardRef(Ue);function Be(){const e=l(),{uniqueItems:n}=z(),{isAuthenticated:r}=Z(),a=r?[{path:"/",label:"Home",icon:G,activeIcon:Ve},{path:"/categories/all",label:"Products",icon:oe,activeIcon:De},{path:"/cart",label:"Cart",icon:ae,activeIcon:He,badge:n>0?n:void 0},{path:"/orders",label:"Orders",icon:J,activeIcon:Le},{path:"/profile",label:"Profile",icon:de,activeIcon:qe}]:[{path:"/",label:"Home",icon:G,activeIcon:Ve},{path:"/categories/all",label:"Products",icon:oe,activeIcon:De},{path:"/cart",label:"Cart",icon:ae,activeIcon:He,badge:n>0?n:void 0},{path:"/orders",label:"Orders",icon:J,activeIcon:Le},{path:"/login",label:"Login",icon:F,activeIcon:Re}];return t.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-50 safe-area-inset-bottom",children:t.jsx("div",{className:"grid grid-cols-5 h-16",children:a.map(n=>{const r="/"===(a=n.path)?"/"===e.pathname:e.pathname.startsWith(a);var a;const s=r?n.activeIcon:n.icon;return t.jsxs(o,{to:n.path,className:"flex flex-col items-center justify-center space-y-1 transition-colors relative ".concat(r?"text-green-600":"text-gray-500"),children:[t.jsxs("div",{className:"relative",children:[t.jsx(s,{className:"h-6 w-6"}),n.badge&&t.jsx("span",{className:"absolute -top-2 -right-2 bg-green-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-semibold",children:n.badge})]}),t.jsx("span",{className:"text-xs font-medium ".concat(r?"text-green-600":"text-gray-600"),children:n.label})]},n.path)})})})}const ze=s.lazy(()=>b(()=>import("./HomePage-c4f1f30a.js"),["assets/HomePage-c4f1f30a.js","assets/ui-vendor-090db037.js","assets/react-vendor-e826ac9a.js","assets/ProductCard-34d203f1.js","assets/format-01d13a2f.js","assets/useAddToCartBar-db5d6b60.js","assets/data-vendor-7193eb6f.js","assets/Shimmer-954c7611.js"]).then(e=>({default:e.HomePage}))),We=s.lazy(()=>b(()=>import("./ProductsPage-c9260ac1.js"),["assets/ProductsPage-c9260ac1.js","assets/ui-vendor-090db037.js","assets/react-vendor-e826ac9a.js"]).then(e=>({default:e.ProductsPage}))),Fe=s.lazy(()=>b(()=>import("./ProductDetailsPage-edb45ae5.js"),["assets/ProductDetailsPage-edb45ae5.js","assets/ui-vendor-090db037.js","assets/react-vendor-e826ac9a.js","assets/format-01d13a2f.js","assets/useAddToCartBar-db5d6b60.js","assets/Shimmer-954c7611.js","assets/data-vendor-7193eb6f.js"]).then(e=>({default:e.ProductDetailsPage}))),Qe=s.lazy(()=>b(()=>import("./CartPage-ecebeb2e.js"),["assets/CartPage-ecebeb2e.js","assets/ui-vendor-090db037.js","assets/react-vendor-e826ac9a.js","assets/EmptyState-90642793.js","assets/format-01d13a2f.js","assets/Shimmer-954c7611.js","assets/data-vendor-7193eb6f.js","assets/ArrowLeftIcon-26eeecc0.js"]).then(e=>({default:e.CartPage}))),Je=s.lazy(()=>b(()=>import("./CheckoutPage-a18bf7bb.js"),["assets/CheckoutPage-a18bf7bb.js","assets/ui-vendor-090db037.js","assets/react-vendor-e826ac9a.js","assets/format-01d13a2f.js","assets/MapAddressModal-f226ebbf.js","assets/map-vendor-da2eca32.js","assets/data-vendor-7193eb6f.js"]).then(e=>({default:e.CheckoutPage}))),Ke=s.lazy(()=>b(()=>import("./OrdersPage-2edac75d.js"),["assets/OrdersPage-2edac75d.js","assets/ui-vendor-090db037.js","assets/react-vendor-e826ac9a.js","assets/format-01d13a2f.js","assets/EmptyState-90642793.js","assets/Shimmer-954c7611.js","assets/data-vendor-7193eb6f.js","assets/ArrowLeftIcon-26eeecc0.js","assets/search-3268ebc4.js"]).then(e=>({default:e.OrdersPage}))),Ge=s.lazy(()=>b(()=>import("./OrderDetailsPage-1c1aec25.js"),["assets/OrderDetailsPage-1c1aec25.js","assets/ui-vendor-090db037.js","assets/react-vendor-e826ac9a.js","assets/format-01d13a2f.js","assets/Shimmer-954c7611.js","assets/data-vendor-7193eb6f.js"])),Ye=s.lazy(()=>b(()=>import("./ProfilePage-81b4d635.js"),["assets/ProfilePage-81b4d635.js","assets/ui-vendor-090db037.js","assets/react-vendor-e826ac9a.js","assets/MapAddressModal-f226ebbf.js","assets/map-vendor-da2eca32.js","assets/Shimmer-954c7611.js","assets/data-vendor-7193eb6f.js"]).then(e=>({default:e.ProfilePage}))),Xe=s.lazy(()=>b(()=>import("./LoginPage-69a41880.js"),["assets/LoginPage-69a41880.js","assets/ui-vendor-090db037.js","assets/react-vendor-e826ac9a.js","assets/LockClosedIcon-f3e88ca2.js","assets/data-vendor-7193eb6f.js"]).then(e=>({default:e.LoginPage}))),$e=s.lazy(()=>b(()=>import("./SignupPage-1a893d60.js"),["assets/SignupPage-1a893d60.js","assets/ui-vendor-090db037.js","assets/react-vendor-e826ac9a.js","assets/LockClosedIcon-f3e88ca2.js","assets/data-vendor-7193eb6f.js"]).then(e=>({default:e.SignupPage}))),et=s.lazy(()=>b(()=>import("./ForgotPasswordPage-4df9f906.js"),["assets/ForgotPasswordPage-4df9f906.js","assets/ui-vendor-090db037.js","assets/react-vendor-e826ac9a.js","assets/data-vendor-7193eb6f.js"])),tt=s.lazy(()=>b(()=>import("./ResetPasswordPage-16e924e2.js"),["assets/ResetPasswordPage-16e924e2.js","assets/ui-vendor-090db037.js","assets/react-vendor-e826ac9a.js","assets/data-vendor-7193eb6f.js"])),nt=s.lazy(()=>b(()=>import("./AboutUsPage-ed777be0.js"),["assets/AboutUsPage-ed777be0.js","assets/ui-vendor-090db037.js","assets/react-vendor-e826ac9a.js"])),rt=s.lazy(()=>b(()=>import("./CategoryPage-0d7c82eb.js"),["assets/CategoryPage-0d7c82eb.js","assets/ui-vendor-090db037.js","assets/react-vendor-e826ac9a.js","assets/ProductCard-34d203f1.js","assets/format-01d13a2f.js","assets/useAddToCartBar-db5d6b60.js","assets/EmptyState-90642793.js","assets/Shimmer-954c7611.js","assets/data-vendor-7193eb6f.js","assets/search-3268ebc4.js"]).then(e=>({default:e.CategoryPage}))),at=new f({defaultOptions:{queries:{staleTime:3e5,cacheTime:6e5,refetchOnWindowFocus:!1}}});function st(){const[e,r]=s.useState(!1);return t.jsx(g,{client:at,children:t.jsx(H,{children:t.jsx(ge,{children:t.jsx(B,{children:t.jsx(u,{children:t.jsx(ye,{children:t.jsx(Ne,{children:t.jsx(Ae,{whatsappNumber:"+91 9980761856",children:t.jsxs("div",{className:"min-h-screen relative",children:[t.jsxs(n.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},children:[t.jsx(je,{}),t.jsx(Ie,{}),t.jsx(he,{}),t.jsx("main",{className:"container mx-auto px-4 py-8 pb-20 md:pb-8",children:t.jsx(s.Suspense,{fallback:t.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}),children:t.jsxs(m,{children:[t.jsx(h,{path:"/",element:t.jsx(ze,{startAnimations:e})}),t.jsx(h,{path:"/products",element:t.jsx(We,{})}),t.jsx(h,{path:"/categories/:categoryId",element:t.jsx(rt,{})}),t.jsx(h,{path:"/about",element:t.jsx(nt,{})}),t.jsx(h,{path:"/products/:id",element:t.jsx(Fe,{})}),t.jsx(h,{path:"/login",element:t.jsx(Xe,{})}),t.jsx(h,{path:"/signup",element:t.jsx($e,{})}),t.jsx(h,{path:"/forgot-password",element:t.jsx(et,{})}),t.jsx(h,{path:"/reset-password",element:t.jsx(tt,{})}),t.jsx(h,{path:"/cart",element:t.jsx(pe,{children:t.jsx(Qe,{})})}),t.jsx(h,{path:"/checkout",element:t.jsx(pe,{children:t.jsx(Je,{})})}),t.jsx(h,{path:"/orders",element:t.jsx(pe,{children:t.jsx(Ke,{})})}),t.jsx(h,{path:"/orders/:id",element:t.jsx(pe,{children:t.jsx(Ge,{})})}),t.jsx(h,{path:"/profile",element:t.jsx(pe,{children:t.jsx(Ye,{})})})]})})}),t.jsx(we,{}),t.jsx(Be,{})]}),!e&&t.jsx(fe,{duration:1200,onFinish:()=>r(!0)})]})})})})})})})})})}v.createRoot(document.getElementById("root")).render(t.jsx(d.StrictMode,{children:t.jsx(st,{})}));export{be as A,ne as S,de as U,e as __vite_legacy_guard,k as a,Z as b,U as c,Ce as d,N as e,E as f,I as g,Pe as h,Ee as i,P as j,L as k,R as l,C as m,M as n,V as o,O as p,oe as q,He as r,z as u};
