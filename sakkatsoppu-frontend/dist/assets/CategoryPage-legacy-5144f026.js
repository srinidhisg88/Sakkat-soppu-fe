System.register(["./ui-vendor-legacy-1ce3db5f.js","./react-vendor-legacy-40b14165.js","./index-legacy-5d9d8b68.js","./ProductCard-legacy-16bb3fc5.js","./EmptyState-legacy-a5d8cc30.js","./Pagination-legacy-4738487d.js","./data-vendor-legacy-6b4cc34b.js","./format-legacy-97f32d7b.js","./useAddToCartBar-legacy-93c19461.js"],function(e,t){"use strict";var a,r,s,i,n,c,o,l,d,g,m,u;return{setters:[e=>{a=e.j,r=e.m},e=>{s=e.r,i=e.f,n=e.u,c=e.b},e=>{o=e.c,l=e.r},e=>{d=e.P},e=>{g=e.E},e=>{m=e.P},e=>{u=e.u},null,null],execute:function(){function t({title:e,titleId:t,...a},r){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?s.createElement("title",{id:t},e):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}e("CategoryPage",function(){const{categoryId:e}=i(),t=n(),p=c(),j=new URLSearchParams(t.search),v=Math.max(1,Number(j.get("page")||1)),b=Math.max(1,Number(j.get("limit")||24)),[f,N]=s.useState(v),w=b;s.useEffect(()=>{const e=new URLSearchParams(t.search);e.set("page",String(f)),e.set("limit",String(w));const a=e.toString();a!==t.search.replace(/^\?/,"")&&p({pathname:t.pathname,search:a},{replace:!0})},[f,w,t.pathname,t.search,p]);const{data:P=[]}=u({queryKey:["categories","list"],queryFn:async()=>{const e=(await o()).data;return Array.isArray(e)?e:e?.data??e?.categories??[]},staleTime:3e5,cacheTime:6e5}),k=P.find(t=>t._id===e),{data:C,isLoading:E,isError:S}=u({queryKey:["products","by-category",e,{page:f,limit:w}],queryFn:async()=>{if(!e)throw new Error("Category ID is required");return(await l(e,{page:f,limit:w})).data},keepPreviousData:!0,enabled:!!e}),L=C?.products??[],T=C?.total??0,A=C?.totalPages??1;return e?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-white",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs(r.div,{initial:"hidden",animate:"visible",variants:x,className:"space-y-8",children:[a.jsxs(r.div,{variants:y,className:"text-center",children:[a.jsxs("button",{onClick:()=>p("/products"),className:"inline-flex items-center text-green-600 hover:text-green-700 mb-4 transition-colors",children:[a.jsx(h,{className:"h-5 w-5 mr-2"}),"Back to Products"]}),a.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:k?.name||"Category Products"})]}),E?a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:Array.from({length:8}).map((e,t)=>a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 animate-pulse",children:[a.jsx("div",{className:"w-full h-48 bg-gray-200 rounded-lg mb-4"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]},t))}):S?a.jsx(g,{title:"Error Loading Products",description:"There was an error loading products for this category. Please try again.",actionLabel:"Try Again",actionTo:"#"}):0===L.length?a.jsx(g,{title:"No Products Found",description:`No products are currently available in the ${k?.name||"selected"} category.`,actionLabel:"Browse All Products",actionTo:"/products"}):a.jsxs(a.Fragment,{children:[a.jsx(r.div,{variants:x,className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-4 gap-6",children:L.map(e=>a.jsx(r.div,{variants:y,children:a.jsx(d,{product:e})},e._id))}),A>1&&a.jsx(r.div,{variants:y,className:"flex justify-center",children:a.jsx(m,{currentPage:f,totalPages:A,onPageChange:N})}),a.jsxs(r.div,{variants:y,className:"text-center text-gray-600",children:["Showing ",L.length," of ",T," products in ",k?.name]})]})]})})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Category Not Found"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"The category you're looking for doesn't exist."}),a.jsxs("button",{onClick:()=>p("/products"),className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[a.jsx(h,{className:"h-5 w-5 mr-2"}),"Back to Products"]})]})})});const h=s.forwardRef(t),x={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},y={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}}}}});
