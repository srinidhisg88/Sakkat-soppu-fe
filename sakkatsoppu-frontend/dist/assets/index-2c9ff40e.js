function e(){import.meta.url,import("_").catch(()=>1)}import{j as t,m as r,A as n}from"./ui-vendor-090db037.js";import{a as s,r as a,L as o,u as l,N as i,b as c,R as d,B as u,d as m,e as h}from"./react-vendor-e826ac9a.js";import{a as p,u as x,Q as g,b as f}from"./data-vendor-7193eb6f.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var v={},w=s;v.createRoot=w.createRoot,v.hydrateRoot=w.hydrateRoot;const j={},b=function(e,t,r){if(!t||0===t.length)return e();const n=document.getElementsByTagName("link");return Promise.all(t.map(e=>{if((e=function(e){return"/"+e}(e))in j)return;j[e]=!0;const t=e.endsWith(".css"),s=t?'[rel="stylesheet"]':"";if(!!r)for(let r=n.length-1;r>=0;r--){const s=n[r];if(s.href===e&&(!t||"stylesheet"===s.rel))return}else if(document.querySelector('link[href="'.concat(e,'"]').concat(s)))return;const a=document.createElement("link");return a.rel=t?"stylesheet":"modulepreload",t||(a.as="script",a.crossOrigin=""),a.href=e,document.head.appendChild(a),t?new Promise((t,r)=>{a.addEventListener("load",t),a.addEventListener("error",()=>r(new Error("Unable to preload CSS for ".concat(e))))}):void 0})).then(()=>e()).catch(e=>{const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e})},y=p.create({baseURL:"http://localhost:5001/api",withCredentials:!0,headers:{"Content-Type":"application/json"}});y.interceptors.request.use(e=>{const t=localStorage.getItem("token"),r=e.url||"",n=["/products","/admin/categories","/farmers","/farmer","/coupons","/public"].some(e=>r.startsWith(e)),s=r.startsWith("/auth/");return!t||n||s||(e.headers.Authorization="Bearer ".concat(t)),e});const N=e=>y.get("/products",{params:e}),k=e=>y.get("/products/".concat(e)),E=()=>y.get("/admin/categories"),C=()=>y.get("/public/categories"),P=(e,t)=>y.get("/public/categories/".concat(e,"/products"),{params:t}),_=e=>y.get("/public/coupons",{params:e}),I=()=>y.get("/public/settings/delivery"),S=e=>y.patch("/cart/item",e),L=e=>y.delete("/cart/remove/".concat(e)),R=()=>y.get("/orders"),A=e=>{const t={...e};if(t.latitude&&0!==Number(t.latitude)||delete t.latitude,t.longitude&&0!==Number(t.longitude)||delete t.longitude,"string"==typeof e.couponCode&&""!==e.couponCode.trim()){const r=e.couponCode.trim();t.couponCode=r}else delete t.couponCode;return"string"==typeof e.phone&&""!==e.phone.trim()?t.phone=e.phone.trim():delete t.phone,Array.isArray(e.items)&&e.items.length>0?t.items=e.items.map(e=>({productId:e.productId,quantity:e.quantity})):delete t.items,y.post("/orders",t)},M=()=>y.get("/users/profile"),O=e=>y.put("/users/profile",e),T=async e=>{try{return await y.get("/proxy/geocode/search",{params:e})}catch(t){throw t}},V=async e=>{try{return await y.get("/proxy/geocode/reverse",{params:e})}catch(t){throw t}},D=a.createContext(void 0);function H({children:e}){const[r,n]=a.useState(null),[s,o]=a.useState(!0),[l,i]=a.useState(null),c=!!r&&!!localStorage.getItem("token"),d=a.useCallback(e=>{i(e),e?localStorage.setItem("avatarUrl",e):localStorage.removeItem("avatarUrl")},[]);a.useEffect(()=>{const e=localStorage.getItem("token"),t=localStorage.getItem("avatarUrl");t&&i(t),e?(async()=>{try{const e=(await M()).data||null;n(e);const t=(null==e?void 0:e.avatarUrl)||(null==e?void 0:e.picture)||null;t&&d(t)}catch(e){localStorage.removeItem("token"),n(null),d(null)}finally{o(!1)}})():o(!1)},[d]);const u=a.useCallback(async(e,t)=>{var r,s;const a=await((e,t)=>y.post("/auth/login",{email:e,password:t}))(e,t),o=a.data;(null==o?void 0:o.token)&&localStorage.setItem("token",o.token),(null==o?void 0:o.user)&&n(o.user);const l=(null==(r=null==o?void 0:o.user)?void 0:r.avatarUrl)||(null==(s=null==o?void 0:o.user)?void 0:s.picture)||null;l&&d(l);try{const e=(await M()).data||null;e&&n(e);const t=(null==e?void 0:e.avatarUrl)||(null==e?void 0:e.picture)||null;t&&d(t)}catch(i){}},[d]),m=a.useCallback(async e=>{var t,r;const s=await(e=>{const t={...e};return null!=t.latitude&&0!==t.latitude||delete t.latitude,null!=t.longitude&&0!==t.longitude||delete t.longitude,""===t.address&&delete t.address,""===t.phone&&delete t.phone,y.post("/auth/signup",t)})(e),a=s.data;(null==a?void 0:a.token)&&localStorage.setItem("token",a.token),(null==a?void 0:a.user)&&n(a.user);const o=(null==(t=null==a?void 0:a.user)?void 0:t.avatarUrl)||(null==(r=null==a?void 0:a.user)?void 0:r.picture)||null;o&&d(o);try{const e=(await M()).data||null;e&&n(e);const t=(null==e?void 0:e.avatarUrl)||(null==e?void 0:e.picture)||null;t&&d(t)}catch(l){}},[d]),h=a.useCallback(async()=>{try{await y.post("/auth/logout")}catch(e){}localStorage.removeItem("token"),n(null),d(null)},[d]),p=a.useCallback(async e=>{var t,r;const s=function(e){try{const t=e.split(".");if(t.length<2)return null;const r=JSON.parse(atob(t[1].replace(/-/g,"+").replace(/_/g,"/")));return(null==r?void 0:r.picture)||null}catch(t){return null}}(e);s&&d(s);const a=await(e=>y.post("/auth/google",{idToken:e}))(e),o=a.data;(null==o?void 0:o.token)&&localStorage.setItem("token",o.token),(null==o?void 0:o.user)&&n(o.user);const l=(null==(t=null==o?void 0:o.user)?void 0:t.avatarUrl)||(null==(r=null==o?void 0:o.user)?void 0:r.picture)||s||null;l&&d(l);try{const e=(await M()).data||null;e&&n(e);const t=(null==e?void 0:e.avatarUrl)||(null==e?void 0:e.picture)||null;t&&d(t)}catch(i){}return{needsProfileCompletion:!!(null==o?void 0:o.needsProfileCompletion)}},[d]),x=a.useCallback(async e=>{await(e=>y.post("/auth/forgot-password",{email:e}))(e)},[]),g=a.useCallback(async e=>{await(e=>y.post("/auth/reset-password",e))(e)},[]),f=a.useCallback(async()=>{var e;try{const e=(await M()).data||null;n(e);const t=(null==e?void 0:e.avatarUrl)||(null==e?void 0:e.picture)||null;t&&d(t)}catch(t){const r=null==(e=null==t?void 0:t.response)?void 0:e.status;401!==r&&403!==r||(localStorage.removeItem("token"),n(null),d(null))}},[d]),v=a.useMemo(()=>({user:r,isAuthenticated:c,initializing:s,avatarUrl:l,login:u,signup:m,logout:h,loginWithGoogle:p,forgotPassword:x,resetPassword:g,refreshProfile:f}),[r,c,s,l,u,m,h,p,x,g,f]);return t.jsx(D.Provider,{value:v,children:e})}function U(){const e=a.useContext(D);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}const q=a.createContext(void 0);function z(){const e=a.useContext(q);if(!e)throw new Error("useToast must be used within a ToastProvider");return e}const W=a.createContext(void 0);function B({children:e}){const[r,n]=a.useState([]),[s,o]=a.useState(!1),{isAuthenticated:l}=U(),{show:i}=z(),c=a.useRef(i);a.useEffect(()=>{c.current=i},[i]);const d=e=>!!e&&"object"==typeof e&&"string"==typeof e._id,u=a.useMemo(()=>e=>{var t;const r=[];for(const n of e||[]){const e=null==n?void 0:n.productId;let s=null,a=null;if("string"==typeof e&&e?s=e:d(e)&&(s=e._id,a=e),!s)continue;const o=null!=a?a:{_id:s,name:"Product",price:0,stock:0};r.push({productId:s,quantity:null!=(t=n.quantity)?t:0,product:o})}return r},[]),m=a.useCallback(async()=>{var e;if(l)try{o(!0);const t=(null==(e=(await y.get("/cart")).data)?void 0:e.cart)||[],r=u(t);n(e=>{const t=new Set(e.map(e=>e.productId)),n=new Set(r.map(e=>e.productId));let s=0;return t.forEach(e=>{n.has(e)||s++}),s>0&&c.current("".concat(s," item(s) removed due to stock updates"),{type:"warning"}),r})}catch(t){}finally{o(!1)}else n([])},[l,u]);a.useEffect(()=>{m()},[m]);const h=r.reduce((e,t)=>e+t.quantity,0),p=r.length,x=r.reduce((e,t)=>e+t.quantity*(t.product.price||0),0);return t.jsx(W.Provider,{value:{items:r,totalItems:h,uniqueItems:p,totalPrice:x,addToCart:async(e,t)=>{var s,a,i,c,d;if(!l)throw new Error("Please log in to add items to the cart.");try{o(!0);const l=r.find(t=>t.productId===e),m=(null==l?void 0:l.product)||(null==(s=r.find(t=>t.product._id===e))?void 0:s.product);if(m&&"number"==typeof m.stock){const e=(null==l?void 0:l.quantity)||0,r=Math.max(0,m.stock-e);if(r<=0)throw o(!1),new Error("No stock remaining");t>r&&(t=r)}if(l)if(t>1){const r=l.quantity+t,s=(null==(i=(await S({productId:e,quantity:r})).data)?void 0:i.cart)||[];n(u(s))}else{const t=(null==(c=(await S({productId:e,action:"increment"})).data)?void 0:c.cart)||[];n(u(t))}else{const r=(null==(a=(await(d={productId:e,quantity:Math.max(1,t)},y.post("/cart/add",d))).data)?void 0:a.cart)||[];n(u(r))}}catch(m){throw m}finally{o(!1)}},updateQuantity:async(e,t)=>{var s,a,o;if(!l)throw new Error("Please log in to update cart.");try{t<0&&(t=0);const l=null==(s=r.find(t=>t.productId===e))?void 0:s.product;l&&"number"==typeof l.stock&&t>l.stock&&(t=l.stock);const i=r;if(t<=0){n(i.filter(t=>t.productId!==e));const t=(null==(a=(await L(e)).data)?void 0:a.cart)||[];n(u(t))}else{const r=i.map(r=>r.productId===e?{...r,quantity:t}:r);n(r);const s=(null==(o=(await S({productId:e,quantity:t})).data)?void 0:o.cart)||[];n(u(s))}}catch(i){throw await m(),i}},removeItem:async e=>{var t;if(!l)throw new Error("Please log in to remove items from cart.");try{n(r.filter(t=>t.productId!==e));const s=(null==(t=(await L(e)).data)?void 0:t.cart)||[];n(u(s))}catch(s){throw await m(),s}},clearCart:()=>{n([]),l&&y.post("/cart/clear").then(e=>{var t;const r=(null==(t=e.data)?void 0:t.cart)||[];n(u(r))}).catch(()=>{})},loading:s},children:e})}function F(){const e=a.useContext(W);if(void 0===e)throw new Error("useCart must be used within a CartProvider");return e}function Z({title:e,titleId:t,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const Q=a.forwardRef(Z);function J({title:e,titleId:t,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"}))}const K=a.forwardRef(J);function G({title:e,titleId:t,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const Y=a.forwardRef(G);function X({title:e,titleId:t,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const $=a.forwardRef(X);function ee({title:e,titleId:t,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const te=a.forwardRef(ee);function re({title:e,titleId:t,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const ne=a.forwardRef(re);function se({title:e,titleId:t,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const ae=a.forwardRef(se);function oe({title:e,titleId:t,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}const le=a.forwardRef(oe);function ie({title:e,titleId:t,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const ce=a.forwardRef(ie);function de({title:e,titleId:t,...r},n){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?a.createElement("title",{id:t},e):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const ue=a.forwardRef(de);function me(){const{isAuthenticated:e,user:n,logout:s,avatarUrl:l}=U(),{uniqueItems:i}=F(),[c,d]=a.useState(!1),u=new URL("../../logo.jpeg",self.location).href,m=new URL("/assets/logo_final-b879f40a.jpg",self.location).href,h={hover:{scale:1.05,transition:{duration:.2}}};return t.jsx(r.nav,{initial:{y:-100},animate:{y:0},transition:{type:"spring",stiffness:100},className:"bg-white text-gray-800 shadow-lg sticky top-0 z-50",children:t.jsxs("div",{className:"container mx-auto px-4",children:[t.jsxs("div",{className:"flex justify-between items-center h-16 gap-2",children:[t.jsxs(o,{to:"/",className:"flex items-center space-x-3",children:[t.jsx(r.div,{whileHover:{scale:1.05},transition:{duration:.2},className:"w-12 h-12 rounded-full overflow-hidden bg-white shadow",children:t.jsx("img",{src:m,alt:"Sakkat Soppu logo",className:"w-full h-full object-contain",onError:e=>{const t=e.currentTarget;t.onerror=null,t.src=u}})}),t.jsx(r.span,{className:"text-xl font-bold bg-gradient-to-r from-green-600 to-green-400 bg-clip-text text-transparent",whileHover:{scale:1.05},children:"Sakkat Soppu"})]}),t.jsxs("div",{className:"hidden md:flex items-center space-x-3 sm:space-x-4 md:space-x-6",children:[t.jsx(r.div,{variants:h,whileHover:"hover",className:"relative group",children:t.jsxs(o,{to:"/",className:"flex items-center space-x-1 py-2 px-3 rounded-lg group-hover:bg-green-50 transition-colors",children:[t.jsx($,{className:"h-5 w-5 text-green-600"}),t.jsx("span",{children:"Home"})]})}),t.jsx(r.div,{variants:h,whileHover:"hover",className:"relative group",children:t.jsxs(o,{to:"/products",className:"flex items-center space-x-1 py-2 px-3 rounded-lg group-hover:bg-green-50 transition-colors",children:[t.jsx(ae,{className:"h-5 w-5 text-green-600"}),t.jsx("span",{children:"Products"})]})}),t.jsx(r.div,{variants:h,whileHover:"hover",className:"relative group",children:t.jsxs(o,{to:"/about",className:"flex items-center space-x-1 py-2 px-3 rounded-lg group-hover:bg-green-50 transition-colors",children:[t.jsx(te,{className:"h-5 w-5 text-green-600"}),t.jsx("span",{children:"About Us"})]})}),t.jsx(r.div,{variants:h,whileHover:"hover",className:"relative group",children:t.jsxs(o,{to:"/cart",className:"flex items-center space-x-1 py-2 px-3 rounded-lg group-hover:bg-green-50 transition-colors",children:[t.jsxs("div",{className:"relative",children:[t.jsx(le,{className:"h-5 w-5 text-green-600"}),i>0&&t.jsx(r.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-2 -right-2 bg-red-500 text-white text-[10px] rounded-full h-4 min-w-4 px-1 flex items-center justify-center",children:i})]}),t.jsx("span",{children:"Cart"})]})}),t.jsx(r.div,{variants:h,whileHover:"hover",className:"relative group",children:t.jsxs(o,{to:"/orders",className:"flex items-center space-x-1 py-2 px-3 rounded-lg group-hover:bg-green-50 transition-colors",children:[t.jsx(Y,{className:"h-5 w-5 text-green-600"}),t.jsx("span",{children:"Orders"})]})}),e?t.jsxs(t.Fragment,{children:[t.jsx(r.div,{variants:h,whileHover:"hover",className:"relative group",children:t.jsxs(o,{to:"/profile",className:"flex items-center space-x-2 py-2 px-3 rounded-lg group-hover:bg-green-50 transition-colors",children:[l?t.jsx("img",{src:l,alt:(null==n?void 0:n.name)||"Profile",className:"h-6 w-6 rounded-full object-cover border border-green-200"}):t.jsx(ce,{className:"h-5 w-5 text-green-600"}),t.jsx("span",{children:null==n?void 0:n.name})]})}),t.jsxs(r.button,{variants:h,whileHover:"hover",onClick:s,className:"flex items-center space-x-1 py-2 px-3 rounded-lg hover:bg-red-50 text-red-600 transition-colors",children:[t.jsx(Q,{className:"h-5 w-5"}),t.jsx("span",{children:"Logout"})]})]}):t.jsxs(t.Fragment,{children:[t.jsx(r.div,{variants:h,whileHover:"hover",children:t.jsx(o,{to:"/login",className:"py-2 px-4 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Login"})}),t.jsx(r.div,{variants:h,whileHover:"hover",children:t.jsx(o,{to:"/signup",className:"py-2 px-4 border-2 border-green-600 text-green-600 rounded-lg hover:bg-green-50 transition-colors",children:"Sign Up"})})]})]}),t.jsx("div",{className:"md:hidden",children:t.jsx("button",{"aria-label":c?"Close menu":"Open menu",onClick:()=>d(e=>!e),className:"p-2 rounded-lg hover:bg-green-50",children:c?t.jsx(ue,{className:"h-6 w-6 text-green-700"}):t.jsx(K,{className:"h-6 w-6 text-green-700"})})})]}),c&&t.jsx("div",{className:"md:hidden pb-3",children:t.jsxs("div",{className:"pt-2 space-y-1",children:[t.jsxs(o,{onClick:()=>d(!1),to:"/",className:"flex items-center gap-2 py-2 px-3 rounded-lg hover:bg-green-50",children:[t.jsx($,{className:"h-5 w-5 text-green-600"}),t.jsx("span",{children:"Home"})]}),t.jsxs(o,{onClick:()=>d(!1),to:"/products",className:"flex items-center gap-2 py-2 px-3 rounded-lg hover:bg-green-50",children:[t.jsx(ae,{className:"h-5 w-5 text-green-600"}),t.jsx("span",{children:"Products"})]}),t.jsxs(o,{onClick:()=>d(!1),to:"/about",className:"flex items-center gap-2 py-2 px-3 rounded-lg hover:bg-green-50",children:[t.jsx(te,{className:"h-5 w-5 text-green-600"}),t.jsx("span",{children:"About Us"})]}),t.jsxs(o,{onClick:()=>d(!1),to:"/orders",className:"flex items-center gap-2 py-2 px-3 rounded-lg hover:bg-green-50",children:[t.jsx(Y,{className:"h-5 w-5 text-green-600"}),t.jsx("span",{children:"Orders"})]}),t.jsxs(o,{onClick:()=>d(!1),to:"/cart",className:"flex items-center gap-2 py-2 px-3 rounded-lg hover:bg-green-50",children:[t.jsxs("div",{className:"relative",children:[t.jsx(le,{className:"h-5 w-5 text-green-600"}),i>0&&t.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-[10px] rounded-full h-4 min-w-4 px-1 flex items-center justify-center",children:i})]}),t.jsx("span",{children:"Cart"})]}),e?t.jsxs("div",{className:"pt-2 border-t",children:[t.jsxs(o,{onClick:()=>d(!1),to:"/profile",className:"flex items-center gap-2 py-2 px-3 rounded-lg hover:bg-green-50",children:[l?t.jsx("img",{src:l,alt:(null==n?void 0:n.name)||"Profile",className:"h-6 w-6 rounded-full object-cover border border-green-200"}):t.jsx(ce,{className:"h-5 w-5 text-green-600"}),t.jsx("span",{children:null==n?void 0:n.name})]}),t.jsxs("button",{onClick:()=>{d(!1),s()},className:"w-full flex items-center gap-2 py-2 px-3 rounded-lg text-red-600 hover:bg-red-50",children:[t.jsx(Q,{className:"h-5 w-5"}),t.jsx("span",{children:"Logout"})]})]}):t.jsxs("div",{className:"pt-2 border-t grid grid-cols-2 gap-2",children:[t.jsx(o,{onClick:()=>d(!1),to:"/login",className:"py-2 px-3 bg-green-600 text-white rounded-lg text-center",children:"Login"}),t.jsx(o,{onClick:()=>d(!1),to:"/signup",className:"py-2 px-3 border-2 border-green-600 text-green-600 rounded-lg text-center",children:"Sign Up"})]})]})})]})})}function he({children:e}){const{isAuthenticated:r,initializing:n}=U(),s=l();return n?t.jsx("div",{className:"py-8 text-center",children:"Checking authentication…"}):r?t.jsx(t.Fragment,{children:e}):t.jsx(i,{to:"/login",replace:!0,state:{from:{pathname:s.pathname}}})}const pe=new URL("/assets/logo_final-b879f40a.jpg",self.location).href;function xe({duration:e=1200,onFinish:n}){const[s,o]=a.useState(!0),[l,i]=a.useState(!1);if(a.useEffect(()=>{const t=setTimeout(()=>i(!0),e),r=setTimeout(()=>{o(!1),null==n||n()},e+800+200);return()=>{clearTimeout(t),clearTimeout(r)}},[e,n]),!s)return null;const c={backgroundColor:"white",WebkitMaskImage:"radial-gradient(circle at 50% 50%, transparent var(--r), black calc(var(--r) + 1px))",maskImage:"radial-gradient(circle at 50% 50%, transparent var(--r), black calc(var(--r) + 1px))",willChange:"mask-image, -webkit-mask-image","--r":"0vmax"};return t.jsxs(r.div,{className:"fixed inset-0 z-[1000] flex items-center justify-center bg-transparent",children:[t.jsx(r.div,{className:"absolute inset-0 z-10",style:c,animate:l?{"--r":"120vmax"}:{"--r":"0vmax"},transition:{duration:.8,ease:[.22,1,.36,1]}}),t.jsx(r.div,{initial:{scale:1},animate:{scale:l?0:1},transition:{duration:.6,ease:"easeInOut"},className:"relative z-20 w-32 h-32 sm:w-40 sm:h-40 rounded-full bg-white shadow p-2 overflow-hidden flex items-center justify-center",children:t.jsx("img",{src:pe,alt:"Logo",className:"w-full h-full object-contain"})})]})}function ge({children:e}){const[r,n]=a.useState([]),s=a.useRef(new Map);a.useEffect(()=>()=>{s.current.forEach(e=>window.clearTimeout(e)),s.current.clear()},[]);const o=a.useCallback(e=>{n(t=>t.filter(t=>t.id!==e));const t=s.current.get(e);t&&(window.clearTimeout(t),s.current.delete(e))},[]),l=a.useCallback((e,t)=>{var r,a;const l="".concat(Date.now(),"_").concat(Math.random().toString(36).slice(2)),i={id:l,message:e,type:null!=(r=null==t?void 0:t.type)?r:"info"};n(e=>[...e,i]);const c=window.setTimeout(()=>o(l),null!=(a=null==t?void 0:t.durationMs)?a:2200);s.current.set(l,c)},[o]);return t.jsxs(q.Provider,{value:{show:l},children:[e,t.jsx("div",{className:"fixed inset-x-0 bottom-4 flex justify-center z-50 pointer-events-none",children:t.jsx("div",{className:"space-y-2 w-full max-w-md px-4",children:r.map(e=>t.jsxs("div",{className:"pointer-events-auto rounded-lg shadow px-4 py-3 text-sm text-white flex items-center justify-between\n                ".concat("success"===e.type?"bg-green-600":"warning"===e.type?"bg-amber-600":"error"===e.type?"bg-red-600":"bg-gray-800"),children:[t.jsx("span",{children:e.message}),t.jsx("button",{className:"ml-3 text-white/80 hover:text-white",onClick:()=>o(e.id),children:"×"})]},e.id))})})]})}const fe=a.createContext(null);function ve(){const e=function(){const e=a.useContext(fe);if(!e)throw new Error("usePoliciesModal must be used within PoliciesModalProvider");return e}(),r=new URL("../../logo.jpeg",self.location).href,n=new URL("/assets/logo_final-b879f40a.jpg",self.location).href;return t.jsx("footer",{className:"bg-white border-t mt-2 sm:mt-4",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 py-4 sm:py-6",children:[t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 sm:gap-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-1 sm:mb-2",children:[t.jsx("div",{className:"w-8 h-8 sm:w-9 sm:h-9 rounded-full overflow-hidden bg-white shadow",children:t.jsx("img",{src:n,alt:"Sakkat Soppu logo",className:"w-full h-full object-contain",onError:e=>{const t=e.currentTarget;t.onerror=null,t.src=r}})}),t.jsx("span",{className:"text-sm sm:text-base font-bold bg-gradient-to-r from-green-600 to-green-400 bg-clip-text text-transparent",children:"Sakkat Soppu"})]}),t.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Fresh, local produce delivered in Mysore."})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-gray-900 font-semibold mb-1 sm:mb-2",children:"Quick Links"}),t.jsxs("nav",{className:"grid gap-1 text-sm",children:[t.jsx(o,{to:"/",children:"Home"}),t.jsx(o,{to:"/products",children:"Products"}),t.jsx(o,{to:"/orders",children:"Orders"})]})]}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-gray-900 font-semibold mb-1 sm:mb-2",children:"Support"}),t.jsxs("ul",{className:"space-y-1 text-sm",children:[t.jsx("li",{children:t.jsx("span",{className:"inline-flex items-center gap-2 text-gray-700 select-text",children:"Email: sakkatsoppu@gmail.com"})}),t.jsx("li",{children:t.jsx("span",{className:"inline-flex items-center gap-2 text-gray-700 select-text",children:"Phone: +91 99807 61856"})}),t.jsx("li",{children:t.jsx("button",{type:"button",onClick:()=>e.open(),className:"inline-flex items-center gap-2 text-gray-700 select-text hover:text-green-700 focus:outline-none",style:{background:"none",border:"none",padding:0,font:"inherit",cursor:"pointer"},children:"Policies"})})]})]})]}),t.jsxs("div",{className:"border-t mt-3 sm:mt-4 pt-2 sm:pt-3 text-[10px] sm:text-xs text-gray-500 flex flex-col sm:flex-row items-center justify-between gap-1.5 sm:gap-2",children:[t.jsxs("p",{children:["© ",(new Date).getFullYear()," Sakkat Soppu. All rights reserved."]}),t.jsxs("p",{children:["Built with ❤️ for Mysore | ",t.jsx("a",{className:"hover:text-green-700",href:"/",children:"Home"})]})]})]})})}function we(){const{pathname:e}=l();return a.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[e]),null}const je=a.createContext(void 0);function be({children:e}){const s=c(),o=l(),{totalPrice:i,items:d}=F(),[u,m]=a.useState(!1),[h,p]=a.useState(0),g=a.useRef(null),{data:f=[]}=x({queryKey:["admin","coupons"],queryFn:async()=>{try{const e=(await _({page:1,limit:100})).data,t=Array.isArray(e)?e:(null==e?void 0:e.data)||e.coupons||e.items||e.results||[];return t.map(e=>{var t,r,n,s;const a=e;return{code:((null==a?void 0:a.code)||(null==a?void 0:a.couponCode)||"").toString(),discountType:"percentage"===(null==a?void 0:a.discountType)?"percentage":"amount",discountValue:Number(null!=(r=null!=(t=null==a?void 0:a.discountValue)?t:null==a?void 0:a.value)?r:0),minOrderValue:null!=(null==a?void 0:a.minOrderValue)?Number(a.minOrderValue):void 0,maxDiscount:null!=(null==a?void 0:a.maxDiscount)?Number(a.maxDiscount):void 0,isActive:!1!==(null==a?void 0:a.isActive),startsAt:null!=(n=null==a?void 0:a.startsAt)?n:null,expiresAt:null!=(s=null==a?void 0:a.expiresAt)?s:null}}).filter(e=>e.code)}catch(e){return[]}},staleTime:3e5,refetchOnWindowFocus:!1,refetchOnReconnect:!1}),{data:v}=x({queryKey:["public","delivery-settings"],queryFn:async()=>{var e,t,r,n;try{const s=(await I()).data;if(!s)throw new Error("No data");return{enabled:null==(e=s.enabled)||e,deliveryFee:null!=(t=s.deliveryFee)?t:0,freeDeliveryThreshold:null!=(r=s.freeDeliveryThreshold)?r:0,minOrderSubtotal:null!=(n=s.minOrderSubtotal)?n:0}}catch(s){return{enabled:!0,deliveryFee:0,freeDeliveryThreshold:0,minOrderSubtotal:0}}},staleTime:6e5,refetchOnWindowFocus:!1,refetchOnReconnect:!1}),w=a.useMemo(()=>{var e;const t=[];if(v&&v.enabled){const r=null!=(e=v.minOrderSubtotal)?e:0,n=Math.max(0,r-i);n>0&&t.push("Add ₹".concat(n," more to reach minimum order"))}if(f.length>0&&i>0){let e=null;for(const t of f){if(!1===t.isActive)continue;if("number"==typeof t.minOrderValue&&i<t.minOrderValue)continue;let r=0;if("amount"===t.discountType)r=Math.min(t.discountValue,i);else if("percentage"===t.discountType){const e=t.discountValue/100*i;r=Math.floor(null==t.maxDiscount?e:Math.min(e,t.maxDiscount))}(!e||r>e.savings)&&(e={code:t.code,savings:r})}e&&e.savings>0&&t.push("Use ".concat(e.code," to save ₹").concat(e.savings))}return t},[f,v,i]),j=a.useCallback(e=>{m(!0)},[]);a.useEffect(()=>()=>{g.current&&window.clearTimeout(g.current)},[]),a.useEffect(()=>{const e=()=>{};return window.addEventListener("scroll",e,{passive:!0}),()=>window.removeEventListener("scroll",e)},[]),a.useEffect(()=>{"/cart"===o.pathname&&(g.current&&window.clearTimeout(g.current),m(!1))},[o.pathname]),a.useEffect(()=>{d&&0!==d.length||(g.current&&window.clearTimeout(g.current),m(!1),p(0))},[d]),a.useEffect(()=>{const e=Array.isArray(d)?d.length:0;p(e),e>0&&"/cart"!==o.pathname&&m(!0)},[d,o.pathname]);const b=a.useMemo(()=>({showBar:j}),[j]),y=a.useCallback(()=>{g.current&&window.clearTimeout(g.current),m(!1),s("/cart")},[s]);return t.jsxs(je.Provider,{value:b,children:[e,t.jsx(n,{children:u&&t.jsx(r.div,{initial:{y:80,opacity:0},animate:{y:0,opacity:1},exit:{y:80,opacity:0},transition:{type:"spring",stiffness:200,damping:22},className:"fixed inset-x-0 bottom-3 z-50 px-3 sm:px-4",children:t.jsx("div",{className:"mx-auto w-full max-w-xl",children:t.jsxs("div",{className:"rounded-xl shadow-lg bg-green-600 text-white flex items-center justify-between gap-3 px-4 py-3 sm:py-3.5",children:[t.jsxs("div",{className:"min-w-0",children:[t.jsxs("p",{className:"font-semibold text-sm sm:text-base truncate",children:[h," product",1!==h?"s":""," in cart"]}),w.length>0&&t.jsx("div",{className:"text-[11px] sm:text-xs text-white/90 space-y-0.5",children:w.slice(0,2).map((e,r)=>t.jsx("p",{className:"truncate",children:e},r))})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("button",{onClick:y,className:"px-3 sm:px-4 py-2 rounded-lg bg-white text-green-700 font-semibold text-sm sm:text-base",children:"View Cart"})})]})})})})]})}const ye=a.createContext(void 0);function Ne({children:e}){const[r,n]=a.useState(new Map),s=a.useRef([]),o=a.useRef(null),l=a.useRef(null),i=a.useRef(1e3),c=a.useCallback(()=>{o.current&&(o.current.close(),o.current=null),l.current&&(window.clearTimeout(l.current),l.current=null)},[]),d=a.useCallback(e=>{if(c(),0===e.length)return;const t=function(e){const t=e.length?"?ids=".concat(encodeURIComponent(e.join(","))):"";return"/api/realtime/stock".concat(t)}(e),r=new EventSource(t,{withCredentials:!0});o.current=r;r.addEventListener("stock:snapshot",e=>{try{const t=JSON.parse(e.data);n(e=>{const r=new Map(e);for(const n of t||[])n&&n.productId&&r.set(n.productId,Math.max(0,Number(n.stock||0)));return r})}catch(t){}}),r.addEventListener("stock:update",e=>{try{const t=JSON.parse(e.data);t&&t.productId&&n(e=>{const r=new Map(e);return r.set(t.productId,Math.max(0,Number(t.stock||0))),r})}catch(t){}}),r.onerror=()=>{if(l.current)return;const e=Math.min(i.current,3e4)+Math.floor(400*Math.random());l.current=window.setTimeout(()=>{l.current=null,i.current=Math.min(2*i.current,3e4),d(s.current)},e)},r.onopen=()=>{i.current=1e3}},[c]);a.useEffect(()=>{const e=()=>{!document.hidden&&s.current.length?d(s.current):c()};return document.addEventListener("visibilitychange",e),window.addEventListener("focus",e),()=>{document.removeEventListener("visibilitychange",e),window.removeEventListener("focus",e)}},[d,c]);const u=a.useRef(null),m=a.useCallback(e=>{const t=Array.from(new Set(e.filter(Boolean)));s.current=t,u.current&&window.clearTimeout(u.current),u.current=window.setTimeout(()=>{document.hidden||d(s.current)},250)},[d]);a.useEffect(()=>()=>c(),[c]);const h=a.useMemo(()=>({stocks:r,updateWatched:m}),[r,m]);return t.jsx(ye.Provider,{value:h,children:e})}function ke(){const e=a.useContext(ye);if(!e)throw new Error("useStockContext must be used within StockProvider");return e}function Ee(e){const{updateWatched:t}=ke(),r=a.useRef(""),n=a.useMemo(()=>Array.from(new Set((e||[]).filter(Boolean))),[e]),s=n.join(",");a.useEffect(()=>{s!==r.current&&(r.current=s,t(n))},[s,n,t])}function Ce(e){var r,n;const s=null==(r=null==e?void 0:e.enabled)||r,a=null==(n=null==e?void 0:e.mutate)||n,{stocks:o}=ke(),{items:l,updateQuantity:i}=F(),{show:c}=z(),[u,m]=d.useState([]),h=d.useRef(new Set),p=d.useRef(new Map);d.useEffect(()=>{if(!s)return;try{if(globalThis.__RECONCILE_PAUSED)return}catch(u){}if(!l.length)return;for(const s of l){const e=s.product._id,t=o.get(e);null!=t&&t>0&&h.current.delete(e)}const e=[],t=[],r=[];for(const s of l){const n=s.product._id;if(!n)continue;const l=o.get(n);if(null==l)continue;const c=s.quantity;l<=0&&c>0?t.push({id:n,name:s.product.name||"Item",from:c,to:0}):l<c&&(e.push({id:n,name:s.product.name||"Item",from:c,to:l}),a&&r.push(i(n,l)))}const n=r.length>0,d=t.length>0;if(n)Promise.allSettled(r).then(()=>{const r=[...e.map(e=>({...e,kind:"clamped"})),...t.map(e=>({...e,kind:"oos"}))];if(m(r.slice(0,3)),a){const r=e.filter(e=>p.current.get(e.id)!==e.to);for(const e of r)p.current.set(e.id,e.to);const n=r.length;if(1===n){const e=r[0];c("".concat(e.name," updated to ").concat(e.to," due to stock change"),{type:"warning"})}else n>1&&c("".concat(n," item(s) adjusted to available stock"),{type:"warning"});if(d){const e=t.filter(e=>!h.current.has(e.id));e.forEach(e=>h.current.add(e.id));const r=e.length;1===r?c("".concat(e[0].name," is now out of stock"),{type:"warning"}):r>1&&c("".concat(r," item(s) now out of stock"),{type:"warning"})}}});else if(d&&(m(t.map(e=>({...e,kind:"oos"})).slice(0,3)),a)){const e=t.filter(e=>!h.current.has(e.id));e.forEach(e=>h.current.add(e.id));const r=e.length;1===r?c("".concat(e[0].name," is now out of stock"),{type:"warning"}):r>1&&c("".concat(r," item(s) now out of stock"),{type:"warning"})}},[s,a,l,o,i,c]);return{Banner:d.useMemo(()=>u.length?t.jsxs("div",{className:"mt-3 bg-amber-50 text-amber-800 rounded-lg p-3 space-y-1",children:[t.jsx("p",{className:"text-sm font-medium",children:"Stock updates:"}),t.jsx("ul",{className:"list-disc list-inside text-sm",children:u.map(e=>t.jsxs("li",{children:[e.name,": ","oos"===e.kind?t.jsxs("span",{children:["now out of stock (had ",e.from,")"]}):t.jsxs("span",{children:[e.from," → ",e.to]})]},e.id))}),t.jsx("p",{className:"text-xs text-amber-700",children:"Items out of stock won’t be auto-removed. Please review your cart before checkout."})]}):null,[u])}}function Pe(){const{items:e}=F();return Ee(e.map(e=>e.product._id)),Ce({enabled:!0}),null}const _e=({id:e,compact:r=!1,whatsappNumber:n})=>{const s=n||"your WhatsApp number",a=r?"bg-white rounded-lg border border-green-100 p-4":"bg-white rounded-2xl shadow-md border border-green-100 p-6",o=r?"text-lg font-bold mb-3":"text-2xl font-bold mb-4",l=r?"text-base font-semibold mb-2":"text-lg font-semibold mb-2",i="list-disc ml-5 text-gray-700";return t.jsx("section",{id:e,className:r?"":"max-w-6xl mx-auto px-4",children:t.jsxs("div",{className:a,children:[t.jsx("h2",{className:o,children:"Policies"}),t.jsxs("div",{className:r?"space-y-3":"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:l,children:"Return & Refund Policy"}),t.jsxs("ul",{className:"space-y-1",children:[t.jsxs("li",{className:i,children:[t.jsx("span",{className:"font-medium",children:"No Return / Replacement:"})," We do not offer product returns or replacements once an order is delivered."]}),t.jsxs("li",{className:i,children:[t.jsx("span",{className:"font-medium",children:"Damaged Products:"})," If your product is delivered in a damaged condition, please share a clear photo of the product on our official WhatsApp number (",s,") within 1 hour."]}),t.jsxs("li",{className:i,children:[t.jsx("span",{className:"font-medium",children:"Compensation:"})," After verification, we will provide a flat discount equal to the damage value on your next order."]}),t.jsxs("li",{className:i,children:[t.jsx("span",{className:"font-medium",children:"Note:"})," Damage claims without photo proof will not be considered."]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:l,children:"Delivery Policy"}),t.jsxs("ul",{className:"space-y-1",children:[t.jsxs("li",{className:i,children:[t.jsx("span",{className:"font-medium",children:"Scheduled Delivery Days:"})," Orders are delivered on Sundays and Mondays."]}),t.jsxs("li",{className:i,children:[t.jsx("span",{className:"font-medium",children:"Customer Availability:"})," Customers must ensure someone is available at the delivery address to collect the order."]}),t.jsxs("li",{className:i,children:[t.jsx("span",{className:"font-medium",children:"Missed Delivery:"})," If the customer is not present at the time of delivery, a QR code for payment will be sent to their registered mobile number. The full order amount must be paid via the QR code."]})]})]})]})]})})},Ie=({children:e,whatsappNumber:r})=>{const[n,o]=a.useState(!1),[l,i]=a.useState(r),c=a.useCallback(e=>{(null==e?void 0:e.whatsappNumber)&&i(e.whatsappNumber),o(!0)},[]),d=a.useCallback(()=>o(!1),[]),u=a.useMemo(()=>({open:c,close:d}),[c,d]);return t.jsxs(fe.Provider,{value:u,children:[e,n&&s.createPortal(t.jsxs("div",{className:"fixed inset-0 z-[100]",children:[t.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:d,"aria-hidden":"true"}),t.jsx("div",{className:"absolute inset-0 flex items-center justify-center p-4",children:t.jsxs("div",{className:"w-full max-w-2xl bg-white rounded-2xl shadow-2xl border border-green-100 overflow-hidden",children:[t.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b bg-green-50",children:[t.jsxs("div",{className:"flex items-center gap-2 text-green-800",children:[t.jsx(ne,{className:"h-5 w-5"}),t.jsx("h2",{className:"font-semibold",children:"Policies"})]}),t.jsx("button",{onClick:d,"aria-label":"Close policies",className:"p-1 rounded-lg hover:bg-green-100",children:t.jsx(ue,{className:"h-5 w-5 text-green-800"})})]}),t.jsx("div",{className:"max-h-[70vh] overflow-y-auto p-4",children:t.jsx(_e,{compact:!0,whatsappNumber:l})})]})})]}),document.body)]})},Se=a.lazy(()=>b(()=>import("./HomePage-8b53c335.js"),["assets/HomePage-8b53c335.js","assets/ui-vendor-090db037.js","assets/react-vendor-e826ac9a.js","assets/ProductCard-ab407629.js","assets/format-01d13a2f.js","assets/useAddToCartBar-3f4bcc67.js","assets/data-vendor-7193eb6f.js"]).then(e=>({default:e.HomePage}))),Le=a.lazy(()=>b(()=>import("./ProductsPage-e0ffe32f.js"),["assets/ProductsPage-e0ffe32f.js","assets/ui-vendor-090db037.js","assets/react-vendor-e826ac9a.js","assets/format-01d13a2f.js","assets/ProductCard-ab407629.js","assets/useAddToCartBar-3f4bcc67.js","assets/EmptyState-1e8ab27c.js","assets/Pagination-51ac7225.js","assets/data-vendor-7193eb6f.js"]).then(e=>({default:e.ProductsPage}))),Re=a.lazy(()=>b(()=>import("./ProductDetailsPage-c37ca52c.js"),["assets/ProductDetailsPage-c37ca52c.js","assets/ui-vendor-090db037.js","assets/react-vendor-e826ac9a.js","assets/format-01d13a2f.js","assets/useAddToCartBar-3f4bcc67.js","assets/data-vendor-7193eb6f.js"]).then(e=>({default:e.ProductDetailsPage}))),Ae=a.lazy(()=>b(()=>import("./CartPage-7d8e6423.js"),["assets/CartPage-7d8e6423.js","assets/ui-vendor-090db037.js","assets/react-vendor-e826ac9a.js","assets/EmptyState-1e8ab27c.js","assets/format-01d13a2f.js","assets/data-vendor-7193eb6f.js"]).then(e=>({default:e.CartPage}))),Me=a.lazy(()=>b(()=>import("./CheckoutPage-03f6da3d.js"),["assets/CheckoutPage-03f6da3d.js","assets/ui-vendor-090db037.js","assets/react-vendor-e826ac9a.js","assets/format-01d13a2f.js","assets/MapAddressModal-8d2f8231.js","assets/map-vendor-da2eca32.js","assets/data-vendor-7193eb6f.js"]).then(e=>({default:e.CheckoutPage}))),Oe=a.lazy(()=>b(()=>import("./OrdersPage-e1a8d314.js"),["assets/OrdersPage-e1a8d314.js","assets/ui-vendor-090db037.js","assets/react-vendor-e826ac9a.js","assets/format-01d13a2f.js","assets/EmptyState-1e8ab27c.js","assets/data-vendor-7193eb6f.js"]).then(e=>({default:e.OrdersPage}))),Te=a.lazy(()=>b(()=>import("./OrderDetailsPage-6645d947.js"),["assets/OrderDetailsPage-6645d947.js","assets/ui-vendor-090db037.js","assets/react-vendor-e826ac9a.js","assets/format-01d13a2f.js","assets/data-vendor-7193eb6f.js"])),Ve=a.lazy(()=>b(()=>import("./ProfilePage-74b95f13.js"),["assets/ProfilePage-74b95f13.js","assets/ui-vendor-090db037.js","assets/react-vendor-e826ac9a.js","assets/MapAddressModal-8d2f8231.js","assets/map-vendor-da2eca32.js","assets/data-vendor-7193eb6f.js"]).then(e=>({default:e.ProfilePage}))),De=a.lazy(()=>b(()=>import("./LoginPage-dc01d268.js"),["assets/LoginPage-dc01d268.js","assets/ui-vendor-090db037.js","assets/react-vendor-e826ac9a.js","assets/LockClosedIcon-f3e88ca2.js","assets/data-vendor-7193eb6f.js"]).then(e=>({default:e.LoginPage}))),He=a.lazy(()=>b(()=>import("./SignupPage-be07ee38.js"),["assets/SignupPage-be07ee38.js","assets/ui-vendor-090db037.js","assets/react-vendor-e826ac9a.js","assets/LockClosedIcon-f3e88ca2.js","assets/data-vendor-7193eb6f.js"]).then(e=>({default:e.SignupPage}))),Ue=a.lazy(()=>b(()=>import("./ForgotPasswordPage-33742664.js"),["assets/ForgotPasswordPage-33742664.js","assets/ui-vendor-090db037.js","assets/react-vendor-e826ac9a.js","assets/data-vendor-7193eb6f.js"])),qe=a.lazy(()=>b(()=>import("./ResetPasswordPage-d5e9e085.js"),["assets/ResetPasswordPage-d5e9e085.js","assets/ui-vendor-090db037.js","assets/react-vendor-e826ac9a.js","assets/data-vendor-7193eb6f.js"])),ze=a.lazy(()=>b(()=>import("./AboutUsPage-ed777be0.js"),["assets/AboutUsPage-ed777be0.js","assets/ui-vendor-090db037.js","assets/react-vendor-e826ac9a.js"])),We=a.lazy(()=>b(()=>import("./CategoryPage-8dfd2651.js"),["assets/CategoryPage-8dfd2651.js","assets/ui-vendor-090db037.js","assets/react-vendor-e826ac9a.js","assets/ProductCard-ab407629.js","assets/format-01d13a2f.js","assets/useAddToCartBar-3f4bcc67.js","assets/EmptyState-1e8ab27c.js","assets/Pagination-51ac7225.js","assets/data-vendor-7193eb6f.js"]).then(e=>({default:e.CategoryPage}))),Be=new g({defaultOptions:{queries:{staleTime:3e5,cacheTime:6e5,refetchOnWindowFocus:!1}}});function Fe(){const[e,n]=a.useState(!1);return t.jsx(f,{client:Be,children:t.jsx(H,{children:t.jsx(ge,{children:t.jsx(B,{children:t.jsx(u,{children:t.jsx(be,{children:t.jsx(Ne,{children:t.jsx(Ie,{whatsappNumber:"+91 9980761856",children:t.jsxs("div",{className:"min-h-screen bg-cream-100 relative",children:[t.jsxs(r.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},children:[t.jsx(we,{}),t.jsx(Pe,{}),t.jsx(me,{}),t.jsx("main",{className:"container mx-auto px-4 py-8",children:t.jsx(a.Suspense,{fallback:t.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600"})}),children:t.jsxs(m,{children:[t.jsx(h,{path:"/",element:t.jsx(Se,{startAnimations:e})}),t.jsx(h,{path:"/products",element:t.jsx(Le,{})}),t.jsx(h,{path:"/categories/:categoryId",element:t.jsx(We,{})}),t.jsx(h,{path:"/about",element:t.jsx(ze,{})}),t.jsx(h,{path:"/products/:id",element:t.jsx(Re,{})}),t.jsx(h,{path:"/login",element:t.jsx(De,{})}),t.jsx(h,{path:"/signup",element:t.jsx(He,{})}),t.jsx(h,{path:"/forgot-password",element:t.jsx(Ue,{})}),t.jsx(h,{path:"/reset-password",element:t.jsx(qe,{})}),t.jsx(h,{path:"/cart",element:t.jsx(he,{children:t.jsx(Ae,{})})}),t.jsx(h,{path:"/checkout",element:t.jsx(he,{children:t.jsx(Me,{})})}),t.jsx(h,{path:"/orders",element:t.jsx(he,{children:t.jsx(Oe,{})})}),t.jsx(h,{path:"/orders/:id",element:t.jsx(he,{children:t.jsx(Te,{})})}),t.jsx(h,{path:"/profile",element:t.jsx(he,{children:t.jsx(Ve,{})})})]})})}),t.jsx(ve,{})]}),!e&&t.jsx(xe,{duration:1200,onFinish:()=>n(!0)})]})})})})})})})})})}v.createRoot(document.getElementById("root")).render(t.jsx(d.StrictMode,{children:t.jsx(Fe,{})}));export{je as A,ae as S,e as __vite_legacy_guard,Ee as a,C as b,U as c,z as d,k as e,E as f,N as g,Ce as h,ke as i,I as j,O as k,A as l,_ as m,R as n,V as o,T as p,P as q,F as u};
