System.register(["./ui-vendor-legacy-1ce3db5f.js","./react-vendor-legacy-40b14165.js","./index-legacy-54a78176.js","./data-vendor-legacy-6b4cc34b.js"],function(e,s){"use strict";var t,a,r,n,l,i,o;return{setters:[e=>{t=e.j,a=e.m},e=>{r=e.h,n=e.b,l=e.r,i=e.L},e=>{o=e.c},null],execute:function(){e("default",function(){const[e]=r(),s=e.get("token")||"",d=e.get("email")||"",c=n(),{resetPassword:m}=o(),[u,x]=l.useState(""),[g,f]=l.useState(""),[h,w]=l.useState(""),[p,b]=l.useState(""),[y,j]=l.useState(!1);return l.useEffect(()=>{s&&d||b("Invalid or expired reset link.")},[s,d]),t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:t.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"max-w-md w-full bg-white p-8 rounded-2xl shadow",children:[t.jsxs("div",{className:"flex flex-col items-center mb-6",children:[t.jsx("div",{className:"h-16 w-16 rounded-full bg-white overflow-hidden shadow mb-2",children:t.jsx("img",{src:new URL("/assets/logo_final-b879f40a.jpg",self.location).href,alt:"Logo",className:"w-full h-full object-contain"})}),t.jsx("h1",{className:"text-2xl font-bold",children:"Set New Password"}),t.jsx("p",{className:"text-sm text-gray-600 mt-1 text-center",children:d?t.jsx(t.Fragment,{children:t.jsx("span",{className:"font-medium",children:d})}):"Provide a new password."})]}),p&&t.jsx("div",{className:"bg-red-50 text-red-700 p-3 rounded mb-4 text-sm",children:p}),h&&t.jsx("div",{className:"bg-green-50 text-green-700 p-3 rounded mb-4 text-sm",children:h}),t.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),s&&d)if(u.length<6)b("Password must be at least 6 characters.");else if(u===g){b(""),w(""),j(!0);try{await m({token:s,newPassword:u,email:d}),w("Password reset successful. Redirecting to login..."),setTimeout(()=>c("/login"),1500)}catch(t){b("Failed to reset password. The link may be invalid or expired.")}finally{j(!1)}}else b("Passwords do not match.")},className:"space-y-5",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700",children:"New Password"}),t.jsx("input",{id:"newPassword",type:"password",required:!0,minLength:6,value:u,onChange:e=>x(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),t.jsx("input",{id:"confirmPassword",type:"password",required:!0,minLength:6,value:g,onChange:e=>f(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500"})]}),t.jsx("button",{type:"submit",disabled:y||!s||!d,className:"w-full py-2 px-4 rounded-md bg-green-600 text-white font-medium hover:bg-green-700 disabled:opacity-60 disabled:cursor-not-allowed",children:y?"Updating...":"Reset Password"})]}),t.jsx("p",{className:"mt-4 text-sm text-gray-600 text-center",children:t.jsx(i,{to:"/login",className:"text-green-600 hover:text-green-500",children:"Back to login"})})]})})})}}});
