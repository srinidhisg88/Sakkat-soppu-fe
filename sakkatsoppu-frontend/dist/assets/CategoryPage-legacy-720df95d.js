System.register(["./ui-vendor-legacy-1ce3db5f.js","./react-vendor-legacy-40b14165.js","./index-legacy-c4ac752c.js","./ProductCard-legacy-9af0a089.js","./EmptyState-legacy-6b533a9b.js","./Shimmer-legacy-990efe32.js","./data-vendor-legacy-6b4cc34b.js","./search-legacy-1a45af4d.js","./format-legacy-97f32d7b.js","./useAddToCartBar-legacy-86cfb560.js"],function(e,s){"use strict";var a,r,t,l,n,o,i,c,d,g,x,m,u,h;return{setters:[e=>{a=e.j,r=e.m},e=>{t=e.b,l=e.h,n=e.r},e=>{o=e.s,i=e.a},e=>{c=e.P},e=>{d=e.c,g=e.E},e=>{x=e.P},e=>{m=e.u},e=>{u=e.M,h=e.S},null,null],execute:function(){e("CategoryPage",function(){const e=t(),[d]=l(),[p,y]=n.useState(""),j=d.get("category")||null,{data:f,isLoading:v,isError:N}=m({queryKey:["products","all"],queryFn:async()=>{const e=(await i({page:1,limit:1e3})).data;return(e?.products??e?.data??e?.items??[]).filter(e=>Number(e.stock??0)>0)}}),b=f??[],w=n.useMemo(()=>{const e=new Map;return b.forEach(s=>{const a=s.category||"Uncategorized";e.has(a)||e.set(a,{name:a,image:s.imageUrl||s.images?.[0]||""})}),Array.from(e.entries()).map(([e,s])=>({id:e,name:e,image:s.image})).sort((e,s)=>e.name.localeCompare(s.name))},[b]),C=n.useMemo(()=>b.filter(e=>{const s=!j||e.category===j;if(!p.trim())return s;const a=p.toLowerCase(),r=e.name?.toLowerCase().includes(a)||e.description?.toLowerCase().includes(a)||e.category?.toLowerCase().includes(a);return s&&r}),[b,j,p]),k=s=>{y(""),e(s?`/categories/all?category=${encodeURIComponent(s)}`:"/categories/all")};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"hidden md:block",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 md:py-8",children:a.jsxs("div",{className:"flex gap-6",children:[a.jsx(r.aside,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},className:"w-64 flex-shrink-0",children:a.jsxs("div",{className:"sticky top-20 space-y-2",children:[a.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4 px-3",children:"Categories"}),a.jsxs("div",{className:"relative mb-4",children:[a.jsx(u,{className:"h-5 w-5 text-gray-400 absolute left-3 top-3"}),a.jsx("input",{type:"text",placeholder:"Search products...",value:p,onChange:e=>y(e.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-sm"})]}),a.jsx("button",{onClick:()=>k(null),className:"w-full text-left px-4 py-3 rounded-lg transition-all duration-200 "+(j?"bg-white text-gray-700 hover:bg-green-50 hover:text-green-700":"bg-green-600 text-white font-semibold shadow-md"),children:"All Products"}),a.jsx("div",{className:"space-y-1 max-h-[calc(100vh-300px)] overflow-y-auto",children:w.map(e=>a.jsx("button",{onClick:()=>k(e.name),className:"w-full text-left px-4 py-3 rounded-lg transition-all duration-200 "+(j===e.name?"bg-green-600 text-white font-semibold shadow-md":"bg-white text-gray-700 hover:bg-green-50 hover:text-green-700"),children:e.name},e.id))})]})}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:j||"All Products"}),a.jsx("p",{className:"text-gray-600 mt-1",children:v?"Loading...":`${C.length} products available`})]}),v?a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6",children:Array.from({length:8}).map((e,s)=>a.jsx(x,{},s))}):N?a.jsx(g,{title:"Error Loading Products",description:"There was an error loading products. Please try again.",actionLabel:"Retry",actionTo:"#",IconComponent:s}):0===C.length?a.jsx(g,{title:"No Products Found",description:p?`No products found for "${p}"`:`No products are currently available${j?` in ${j}`:""}.`,actionLabel:"Browse All Products",actionTo:"/categories/all",IconComponent:h}):a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6",children:C.map(e=>a.jsx("div",{children:a.jsx(c,{product:e})},e._id))})]})})]})})}),a.jsxs("div",{className:"md:hidden",children:[a.jsx("div",{className:"bg-white px-4 pt-4 pb-3 sticky top-16 z-40 shadow-sm",children:a.jsxs("div",{className:"relative",children:[a.jsx(u,{className:"h-5 w-5 text-gray-400 absolute left-3 top-3"}),a.jsx("input",{type:"text",placeholder:"Search",value:p,onChange:e=>y(e.target.value),className:"w-full pl-10 pr-3 py-2.5 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-green-500 text-sm"})]})}),a.jsx("div",{className:"px-4 py-3 bg-white",children:a.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Recommended Categories"})}),a.jsxs("div",{className:"flex",children:[a.jsx("aside",{className:"w-24 bg-gray-50 border-r border-gray-200 overflow-y-auto h-[calc(100vh-200px)] flex-shrink-0",children:a.jsxs("div",{className:"py-2",children:[a.jsxs("button",{onClick:()=>k(null),className:"w-full px-2 py-3 flex flex-col items-center justify-center gap-2 transition-colors "+(j?"hover:bg-gray-100":"bg-white border-l-4 border-green-600"),children:[a.jsx("div",{className:"w-8 h-8 flex items-center justify-center",children:a.jsx(o,{className:"h-6 w-6 "+(j?"text-gray-600":"text-green-600")})}),a.jsx("span",{className:"text-xs text-center leading-tight "+(j?"text-gray-600":"text-green-600 font-semibold"),children:"Popular"})]}),w.map(e=>{const s=j===e.name;return a.jsxs("button",{onClick:()=>k(e.name),className:"w-full px-2 py-3 flex flex-col items-center justify-center gap-2 transition-colors "+(s?"bg-white border-l-4 border-green-600":"hover:bg-gray-100"),children:[e.image?a.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden bg-gray-200",children:a.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"})}):a.jsx("div",{className:"w-8 h-8 flex items-center justify-center "+(s?"text-green-600":"text-gray-600"),children:a.jsx(o,{className:"h-5 w-5"})}),a.jsx("span",{className:"text-xs text-center leading-tight px-1 "+(s?"text-green-600 font-semibold":"text-gray-600"),children:e.name})]},e.id)})]})}),a.jsx("div",{className:"flex-1 px-3 py-4 overflow-y-auto h-[calc(100vh-200px)]",children:v?a.jsx("div",{className:"grid grid-cols-2 gap-3",children:Array.from({length:6}).map((e,s)=>a.jsx(x,{},s))}):N?a.jsx("div",{className:"px-4",children:a.jsx(g,{title:"Error Loading Products",description:"There was an error loading products. Please try again.",IconComponent:s})}):0===C.length?a.jsx("div",{className:"px-4",children:a.jsx(g,{title:"No Products Found",description:p?`No products found for "${p}"`:"No products available",IconComponent:h})}):a.jsx("div",{className:"grid grid-cols-2 gap-3",children:C.map(e=>a.jsx("div",{children:a.jsx(c,{product:e})},e._id))})})]})]})]})});
/**
       * @license lucide-react v0.554.0 - ISC
       *
       * This source code is licensed under the ISC license.
       * See the LICENSE file in the root directory of this source tree.
       */
const s=d("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])}}});
